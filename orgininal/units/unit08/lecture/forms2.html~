<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>More Forms</title>
<link href="../../../css/basic.css" rel="stylesheet" type="text/css">
<script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
</script>
<style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
</style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
<tbody>
<tr name="firstRow">
<td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
<script type="text/javascript">
<!--
    document.write(putSemester());
-->
</script>
</span> <br>
</td>
<td style="text-align: center;"><span style="font-weight: bold; font-size: medium; color: darkblue;">
PHP Web Development with MySQL
</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<!--The heading for the slides --> <br>
<table class="headTable1" border="0">
<tbody>
<tr>
<td width="100"><a href="forms1.html"><img alt="" src="../../../images/btn_lArrow.gif" border="0"></a><a href="index.html"><img alt="" src="../../../images/btn_upArrow.gif" border="0"></a><a href="index.html"><img alt="" src="../../../images/btn_rArrow.gif" border="0"></a></td>
<td>More About HTML Forms with PHP</td>
</tr>
</tbody>
</table>
<br>
<div class="disp1">
<ul class="slidesUl1">
<li><p>
Redirecting the User
</p><p>
What if your Web site has moved to a new location? Now when your users go to the
old site, you want to redirect them to the new one.
</p><p>
What if you want to send the user to a different page depending on some condition:
Is the user logged on? Did he or she forget his or her password? What language
does he or she speak? Is it a holiday?
</p></li>
<li><p>
The Location Header
</p><p>
Redirecting a user to another page is easy and quick with PHP. It is done with
the built-in <b>header()</b> function to modify the HTTP response header sent
by the server.
</p><p>
The location header can be changed by sending an HTTP Location followed by the
URL of the new location.
</p>
<code><small>
&lt;?php<br>
&nbsp;&nbsp;header('Location: http://www.mysite.com/new_page.html');<br>
?&gt;<br>
</small></code>
<p>
The header information must be sent to the browser before any HTML and text;
therefore, it is important that the header() function is executed first.
</p><p>
The following example would be wrong because the program is trying to send the
echo output before the header information.
</p>
<h4>
Filename: badRedirect.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Wrong!</span>
<span class="gutter">   3:</span>  <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">You</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14"> </span><span class="syntax14">going</span><span class="syntax14"> </span><span class="syntax14">to</span><span class="syntax14"> </span><span class="syntax14">be</span><span class="syntax14"> </span><span class="syntax14">redirected</span><span class="syntax14"> </span><span class="syntax14">to</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">new</span><span class="syntax14"> </span><span class="syntax14">page</span><span class="syntax14">!</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  <span class="syntax9">header</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Location</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">http</span><span class="syntax14">:</span><span class="syntax14">/</span><span class="syntax14">/</span><span class="syntax14">www</span><span class="syntax14">.</span><span class="syntax14">ellieq</span><span class="syntax14">.</span><span class="syntax14">com</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
After being redirected, a user's Back button will take the user where he or she
was before the redirection page, not back to the redirection page itself.
</p></li>
<li><p>
Using the Correct URI for Redirection
</p><p>
The Location can be assigned the absolute URI of the redirection page such as
the scheme, host name, and absolute path.
</p><p>
Then the server will return a "redirect" header to the browser to retrieve the
specified page directly.
</p>
<blockquote><code><small>
Location: http://marakana.com/company.html<br>
</small></code></blockquote>
<p>
If you want to reference another file on your own server, you can output a
partial URL, such as the following:
</p>
<blockquote><code><small>
Location: /tutorial/PHP/index.html<br>
</small></code></blockquote>
<p>
You can make use of PHP's <b>$_SERVER</b> array variables to specify an absoute
path. For example, the <b>$_SERVER['HTTP_HOST']</b> , the <b>$_SERVER['PHP_SELF']</b>
, and the path of the the current script returned by the <b>dirname()</b> function
can be concatenated together to make an absolute URL from a relative one.
</p><p>
The following PHP code defines a header described in the PHP manual:
<blockquote><code><small>
&lt;?php<br>
&nbsp;&nbsp;header("Location: http://". $_SERVER['HTTP_HOST'] .<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dirname($_SERVER['PHP_SELF']) .<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"/my_newpage.php");<br>
?&gt;<br>
</small></code></blockquote>
<p>
If you are redirecting a user to a new Web site, it is also a good idea to let
him or her know what is happening by adding a line such as "Our site has moved.
You will automatically be redirected there."
</p>
<h4>
Filename: redirect.html (The HTML File)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;</span><span class="syntax17">html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>Redirecting the User<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;</span><span class="syntax17">body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">#33ff33</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;</span><span class="syntax17">form</span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">http://localhost/demo166/unit08/redirect.php</span><span class="syntax13">&quot;</span>
<span class="gutter">   7:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">post</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>   <span class="syntax17">&lt;</span><span class="syntax17">b</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>   Select a search engine<span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  10:</span>   <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">b</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>   <span class="syntax17">&lt;</span><span class="syntax17">select</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">new_url</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>      <span class="syntax17">&lt;</span><span class="syntax17">option</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">http://www.google.com</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>Google
<span class="gutter">  13:</span>      <span class="syntax17">&lt;</span><span class="syntax17">option</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">http://www.yahoo.com</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span> Yahoo!
<span class="gutter">  14:</span>      <span class="syntax17">&lt;</span><span class="syntax17">option</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">http://www.lycos.com</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span> Lycos
<span class="gutterH">  15:</span>      <span class="syntax17">&lt;</span><span class="syntax17">option</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">/index.php</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span> PHP Index
<span class="gutter">  16:</span>   <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">select</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">submit</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13"> </span><span class="syntax13">Get</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">Web</span><span class="syntax13"> </span><span class="syntax13">Page!</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">form</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span><span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
<h4>
Filename: redirect.php (The PHP Script)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">new_url</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">exit</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  <span class="syntax18">}</span>
<span class="gutterH">   5:</span>  <span class="syntax8">else</span> <span class="syntax18">{</span>
<span class="gutter">   6:</span>    <span class="syntax9">header</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">Location:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">new_url</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>    <span class="syntax8">exit</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>  <span class="syntax18">}</span>
<span class="gutter">   9:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The HTML form's action attribute is assigned the path to the PHP script that
will handle the redirect once the form is submitted.
</p><p>
The HTML <b>select</b> will give the user options to choose from.
</p><p>
When the user clicks the submit button, the form information will be sent to the
server and handled by the PHP script listed in the form's action attribute.
</p><p>
If the user did not select anything, the value of <b>$_POST['new_url']</b>
will be empty, and the script will exit.
</p><p>
If the user selected one of the search engines in the menu, he or she will be
directed to that Web site by the PHP header() function.
</p><p>
The value of $_POST['new_url'] is the address of the selected Web site;
for example, http://www.lycos.com. Once the user is redirected, he or she can
use the brower's Back button to go back to the page where the selection was made.
</p></li>
<li><p>
Uploading Files
</p><p>
In an HTML form, users can upload files from a browser to a Web server.
</p><p>
The files might be text files, binary files (such as images or compressed files),
spreadsheets, or other data.
</p><p>
Being able to upload files is also useful if the information is easier to handle
from a separate file, such as a registration form or a resume.
</p><p>
To upload files, you will need to create a form using the "file" type.
</p></li>
<li><p>
Attributes for the &lt;form&gt; Tag and the file type
</p><p>
To upload files the <b>&lt;form&gt;</b> tag requires three attributes:
</p>
</li>
</ul>
<blockquote>
<ol type="1">
<li class="row1">
<p>
The action attribute of the &lt;form&gt; tag specifies the PHP script that will
process the form.
</p></li>
<li class="row0">
<p>
The enctype attribute determines how the form data is encoded by the browser.
The default value is application/x-www-form-urlencoded, which is the default
for almost any kind of form data.
</p><p>
However, if you are going to upload files then you must specify that the data
is of enctype multi-part/form-data. The browser encodes form data differently
for application/x-www-form-urlencoded and multipart/form-data.
</p></li>
<li class="row1">
<p>
The method attribute should be "POST".
</p></li>
</ol>
</blockquote>
<ul class="slidesUl1">
<li>
<h4>
Filename: upload.html (Sample File Upload Form Values)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;</span><span class="syntax17">html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>Uploading a file<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;</span><span class="syntax17">form</span><span class="syntax17"> </span><span class="syntax17">enctype</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">multipart/form-data</span><span class="syntax13">&quot;</span>
<span class="gutter">   7:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">PHPscript.php</span><span class="syntax13">&quot;</span>
<span class="gutter">   8:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">POST</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span><span class="syntax1">&lt;!--</span><span class="syntax1">MAX_FILE_SIZE</span><span class="syntax1"> </span><span class="syntax1">is</span><span class="syntax1"> </span><span class="syntax1">optional</span><span class="syntax1"> </span><span class="syntax1">and</span><span class="syntax1"> </span><span class="syntax1">must</span><span class="syntax1"> </span><span class="syntax1">precede</span><span class="syntax1"> </span><span class="syntax1">the</span><span class="syntax1"> </span><span class="syntax1">file</span><span class="syntax1"> </span><span class="syntax1">input</span><span class="syntax1"> </span><span class="syntax1">field</span><span class="syntax1">--&gt;</span>
<span class="gutterH">  10:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">hidden</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">MAX_FILE_SIZE</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">30000</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>   Choose a file to upload: <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">uploadfile</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">file</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">submit</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">Send</span><span class="syntax13"> </span><span class="syntax13">File</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">form</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span><span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
In addition to the three attributes, the form's input type is "file"; for example:
<blockquote><code><small>
&lt;input type="file" name="uploadfile"&gt;<br>
</small></code></blockquote>
<p>
With an input type of type "file", the browser might show a display of
(previously selected) file names, and a Browse button or selection method.
</p><p>
Selecting the Browse button would cause the browser to enter into a file
selection mode, allowing you to select from a list of files from different
directories or folders.
</p><p>
You can also specify the <b>MAX_FILE_SIZE</b> field size, the maximum number
of bytes that will be accepted, but this only advises what size the file should be.
</p><p>
This cannot be larger than <b>upload_max_filesize</b> defined in the php.ini
file (default 2MB). Note also that this hidden field must precede the file
input field in the HTML.
</p><p>
Files will, by default, be stored in the server's default temporary directory,
unless another location has been given with the <b>upload_tmp_dir</b> directive
in php.ini.
</p><p>
You can use the built-in function <b>move_uploaded_file()</b> to store an
uploaded file somewhere permanently.
</p><p>
From the php.ini file:
</p>
<blockquote><code><small>
; File Uploads ;<br>
;;;;;;;;;;;;;;;;<br><br>
; Whether to allow HTTP file uploads.<br>
file_uploads = On<br><br>
; Temporary directory for HTTP uploaded files (will use system default if not<br>
; specified).<br>
upload_tmp_dir = "c:/wamp/tmp"<br><br>
; Maximum allowed size for uploaded files.<br>
upload_max_filesize = 2M<br>
</small></code></blockquote>
</li>
<li><p>
PHP's $_FILES Array
</p><p>
When the file is sent to the server, PHP stores all the uploaded file
information in the <b>$_FILES</b> superglobal array, a two-dimensional array
that contains the name of the file input field as the first index and one of
the attributes of the file type as the second index.
</p><p>
Table: The $_FILES Superglobal Array
</p>
<table>
<tr>
<td><code><b><u>
Array</u></b></code></td>
<td><code><b><u>
Description</u></b></code></td>
</tr><tr>
<td><code>
$_FILES['userfile']['name']</code></td>
<td><code>
The original name of the file on the client machine.</code></td>
</tr><tr>
<td><code>
$_FILES['userfile']['type']</code></td>
<td><code>
The MIME type of the file, if the browser provided this information.
An example would be "image/gif".</code></td>
</tr><tr>
<td><code>
$_FILES['userfile']['size']</code></td>
<td><code>
The size, in bytes, of the uploaded file.</code></td>
</tr><tr>
<td><code>
$_FILES['userfile']['tmp_name']&nbsp;</code></td>
<td><code>
The temporary filename of the file in which the uploaded file was stored on the server.</code></td>
</tr><tr>
<td><code>
$_FILES['userfile']['error']</code></td>
<td><code>
The error code associated with this file upload. ['error'] was added in PHP 4.2.0.</code></td>
</tr>
</table>
<h4>
Filename: uploadFile.html (The HTML File)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;</span><span class="syntax17">html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>Uploading Files<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;</span><span class="syntax17">body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">lavender</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;</span><span class="syntax17">h3</span><span class="syntax17">&gt;</span>Uploading Files<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;</span><span class="syntax17">form</span>
<span class="gutter">   8:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">enctype</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">multipart/form-data</span><span class="syntax13">&quot;</span>
<span class="gutter">   9:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">uploadFile.php</span><span class="syntax13">&quot;</span>
<span class="gutterH">  10:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">post</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>   Type the name of the file to upload: <span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">user_file</span><span class="syntax13">&quot;</span>
<span class="gutter">  13:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">file</span><span class="syntax13">&quot;</span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span>   <span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">submit</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">Get</span><span class="syntax13"> </span><span class="syntax13">File</span><span class="syntax13">&quot;</span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">form</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span><span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<h4>
Filename: uploadFile.php (The PHP Script)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax10">$</span><span class="syntax10">handle</span> <span class="syntax18">=</span> <span class="syntax9">fopen</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_FILES</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">user_file</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">tmp_name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">r</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   3:</span>  <span class="syntax8">while</span><span class="syntax18">(</span><span class="syntax18">!</span><span class="syntax9">feof</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">handle</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   4:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax9">fgets</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">handle</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>  <span class="syntax18">}</span>
<span class="gutter">   7:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The attribute to the form type is enctype and assigned "multipart/form-data".
This encoding type is used to send data from files.
</p><p>
Uploaded files must be sent via the POST method.
</p><p>
The input field is of type "file" and will be assigned the name "user_file".
The name is how the uploaded file will be identified in the PHP file, not the
real name of the file.
</p><p>
The $_FILES['user_file']['tmp_name'] array holds the name of the temporary file
that PHP gave to the uploaded file.
</p><p>
The fopen() function will open that file for reading and return a filehandle
that allows access to the file.
</p></li>
<li><p>
Moving the Uploaded File
</p><p>
PHP provides the <b>move_uploaded_file()</b> function to move an uploaded file
to a new location.
</p><p>
Format:
</p>
<code><small>
bool move_uploaded_file ( string filename, string destination )<br>
</small></code>
<p>
This function checks to ensure that the file designated by filename is a valid
upload file (meaning that it was uploaded using the POST method).
</p><p>
If the file is valid, it will be moved to the filename given as a destination.
</p><p>
If the filename is not a valid upload file, then no action will occur, and
move_uploaded_file() function will return FALSE with a warning.
</p>
<h4>
Filename: uploadPicture.html (The HTML File)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;</span><span class="syntax17">html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>Uploading Pictures<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;</span><span class="syntax17">body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">lavender</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;</span><span class="syntax17">h3</span><span class="syntax17">&gt;</span>Uploading Files<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;</span><span class="syntax17">form</span>
<span class="gutter">   8:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">enctype</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">multipart/form-data</span><span class="syntax13">&quot;</span>
<span class="gutter">   9:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">uploadPicture.php</span><span class="syntax13">&quot;</span>
<span class="gutterH">  10:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">post</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>   Browse and select the picture you want to upload: <span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">picture_file</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">file</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>   <span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">submit</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">Get</span><span class="syntax13"> </span><span class="syntax13">File</span><span class="syntax13">&quot;</span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">form</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span><span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<h4>
Filename: uploadPicture.php (The PHP Script)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>File Uploads<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">#</span><span class="syntax14">33ff33</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">verdana</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">The</span><span class="syntax13"> </span><span class="syntax13">uploaded</span><span class="syntax13"> </span><span class="syntax13">file</span><span class="syntax13"> </span><span class="syntax13">is:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">,</span>
<span class="gutter">   9:</span>         <span class="syntax10">$</span><span class="syntax10">_FILES</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">picture_file</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">tmp_name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">filename</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_FILES</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">picture_file</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">filesize</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_FILES</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">picture_file</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">size</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax10">$</span><span class="syntax10">directory</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">/Library/WebServer/Documents/pictures/</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax10">$</span><span class="syntax10">uploadFile</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">directory</span> <span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">filename</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">moved</span><span class="syntax14"> </span><span class="syntax14">file</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">uploadFile</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax9">move_uploaded_file</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_FILES</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">picture_file</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">tmp_name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">,</span>
<span class="gutter">  16:</span>                           <span class="syntax10">$</span><span class="syntax10">uploadFile</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  17:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">The</span><span class="syntax13"> </span><span class="syntax13">file</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">valid</span><span class="syntax13"> </span><span class="syntax13">and</span><span class="syntax13"> </span><span class="syntax13">was</span><span class="syntax13"> </span><span class="syntax13">successfully</span><span class="syntax13"> </span><span class="syntax13">uploaded.</span>
<span class="gutter">  18:</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">image</span><span class="syntax14"> </span><span class="syntax14">file</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">filename</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">filesize</span><span class="syntax14"> </span><span class="syntax14">bytes</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>    <span class="syntax18">}</span>
<span class="gutter">  21:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  22:</span>  <span class="syntax17">&lt;center</span><span class="syntax17">&gt;</span>
<span class="gutter">  23:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  24:</span>  <span class="syntax17">&lt;img</span><span class="syntax17"> </span><span class="syntax17">src</span><span class="syntax18">=</span><span class="syntax17">&lt;?php</span> <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">http://localhost/pictures/</span><span class="syntax13">'</span> <span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">filename</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span>
<span class="gutterH">  25:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">width</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">250</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">height</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">175</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">border</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">3</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span>  <span class="syntax17">&lt;/center</span><span class="syntax17">&gt;</span>
<span class="gutter">  27:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  28:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  29:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
To upload files the encoding type must be "multipart/form-data" and the method, POST.
</p><p>
The uploaded file must be of type "file". Its name is "picture_file", the name
used to identify the file in the <b>$_FILES[ ]</b> associative array.
</p><p>
The variable <b>$uploadFile</b> contains the directory and filename to where
the picture will be moved.
</p><p>
The move_uploaded_file() function moves the uploaded file to its new location.
Its first argument is the original file and its second argument is the destination.
</p></li>
<li><p>
Sticky Forms
</p><p>
A "sticky" form is a form that remembers the values you typed in the input fields.
</p><p>
A typical example is when you fill out a form to purchase some products or
fill out a registration form and you left out a field or typed the credit card
information wrong.
</p><p>
When you submit the order, the page comes back with the form and tells you what
you did wrong and asks you to resubmit the order. If the order form is long and
contains lots of boxes, how many times would you resubmit it, if you had to
start all over again?
</p><p>
With a sticky form, the input data can be saved so that when the form is
redisplayed, the data is still there.
</p><p>
The following example checks if the user left any fields empty and if he or she
did, redisplays the form with an error showing what fields need to filled.
The fields that had data in them still contain the data.
</p>
<h4>
Filename: stickyForm.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Empty Fields<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">center</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;h2</span><span class="syntax17">&gt;</span>Validating Input<span class="syntax17">&lt;/h2</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">errors</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">If</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">form</span><span class="syntax2"> </span><span class="syntax2">was</span><span class="syntax2"> </span><span class="syntax2">submitted</span>
<span class="gutterH">  10:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax8">isset</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_REQUEST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">submit</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>      <span class="syntax6">validate_input</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Check</span><span class="syntax2"> </span><span class="syntax2">for</span><span class="syntax2"> </span><span class="syntax2">empty</span><span class="syntax2"> </span><span class="syntax2">fields</span>
<span class="gutter">  12:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">If</span><span class="syntax2"> </span><span class="syntax2">there</span><span class="syntax2"> </span><span class="syntax2">are</span><span class="syntax2"> </span><span class="syntax2">errors</span><span class="syntax2"> </span><span class="syntax2">redisplay</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">form</span>
<span class="gutter">  13:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax9">count</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">)</span> <span class="syntax18">&gt;</span> <span class="syntax5">0</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  14:</span>        <span class="syntax6">display_form</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>      <span class="syntax18">}</span>
<span class="gutter">  16:</span>      <span class="syntax8">else</span> <span class="syntax18">{</span>
<span class="gutter">  17:</span>        <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;OK!</span><span class="syntax13"> </span><span class="syntax13">Go</span><span class="syntax13"> </span><span class="syntax13">ahead</span><span class="syntax13"> </span><span class="syntax13">and</span><span class="syntax13"> </span><span class="syntax13">Process</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">form!</span>
<span class="gutter">  18:</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">&lt;/b&gt;&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span> <span class="syntax18">}</span>
<span class="gutter">  19:</span>      <span class="syntax18">}</span>
<span class="gutterH">  20:</span>      <span class="syntax8">else</span> <span class="syntax18">{</span>
<span class="gutter">  21:</span>        <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Display</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">form</span><span class="syntax2"> </span><span class="syntax2">for</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">first</span><span class="syntax2"> </span><span class="syntax2">time</span>
<span class="gutter">  22:</span>        <span class="syntax6">display_form</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>      <span class="syntax18">}</span>
<span class="gutter">  24:</span>      
<span class="gutterH">  25:</span>      <span class="syntax8">function</span> <span class="syntax6">validate_input</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  26:</span>        <span class="syntax8">global</span> <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">;</span>
<span class="gutter">  27:</span>        <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">name</span><span class="syntax14">&quot;</span><span class="syntax18">]</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  28:</span>          <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span> 
<span class="gutter">  29:</span>            <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">font</span><span class="syntax14"> </span><span class="syntax14">color</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax14">red</span><span class="syntax14">'</span><span class="syntax14">&gt;</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">Your</span><span class="syntax14"> </span><span class="syntax14">name</span><span class="syntax14">?</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">font</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  30:</span>        <span class="syntax18">}</span>
<span class="gutter">  31:</span>        <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">phone</span><span class="syntax14">&quot;</span><span class="syntax18">]</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  32:</span>          <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">phone</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">=</span>
<span class="gutter">  33:</span>            <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">font</span><span class="syntax14"> </span><span class="syntax14">color</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax14">red</span><span class="syntax14">'</span><span class="syntax14">&gt;</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">Your</span><span class="syntax14"> </span><span class="syntax14">phone</span><span class="syntax14">?</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">*</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">font</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  34:</span>        <span class="syntax18">}</span>
<span class="gutterH">  35:</span>      <span class="syntax18">}</span>
<span class="gutter">  36:</span>      <span class="syntax8">function</span> <span class="syntax6">display_form</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  37:</span>        <span class="syntax8">global</span> <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">;</span>
<span class="gutter">  38:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  39:</span>  <span class="syntax17">&lt;b</span><span class="syntax17">&gt;</span>
<span class="gutterH">  40:</span>  <span class="syntax17">&lt;form</span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">post</span><span class="syntax14">&quot;</span>
<span class="gutter">  41:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax17">&lt;?php</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">PHP_SELF</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  42:</span>   What is your name?<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  43:</span>   <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">name</span><span class="syntax14">&quot;</span>
<span class="gutter">  44:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax17">&lt;?php</span> <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">@</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">  45:</span>   <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  46:</span>   <span class="syntax17">&lt;?php</span> <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">@</span><span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span>
<span class="gutter">  47:</span>   <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  48:</span>   What is your phone number?<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  49:</span>   <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">text</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">phone</span><span class="syntax14">&quot;</span>
<span class="gutterH">  50:</span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax17">&lt;?php</span> <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">@</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">phone</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">phone</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  51:</span>   <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  52:</span>   <span class="syntax17">&lt;?php</span> <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">@</span><span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">phone</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">errors</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">phone</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span>
<span class="gutter">  53:</span>   <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  54:</span>   <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">reset</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">  55:</span>   <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">submit</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">submit</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  56:</span>   <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  57:</span>  <span class="syntax17">&lt;form</span><span class="syntax17">&gt;</span>
<span class="gutter">  58:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  59:</span>    <span class="syntax18">}</span>
<span class="gutterH">  60:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  61:</span>  <span class="syntax17">&lt;/b</span><span class="syntax17">&gt;</span>
<span class="gutter">  62:</span>  <span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
<span class="gutter">  63:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  64:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The $errors array is initialized. It will be used to build a string error message.
</p><p>
If the isset() function on line 10 returns true, the user has already submitted
the form.
</p><p>
If the PHP count() function finds that the $errors array is not empty, the
display_form() function is called and the same form is displayed again with
the error messages displayed in red.
</p><p>
If there are no errors, then the form will be processed. We do not do any real
processing here, but if we did, this is where the code would go.
</p><p>
validate_input() is a user-defined function that will determine whether or not
the user filled in the required fields.
</p><p>
When the input type is named, the value given to it will be empty the first
time it is displayed because PHP has not yet processed the input.
</p><p>
If the form has already been displayed and there was an error, then the value
of the field, if there was one, will be assigned by switching over to PHP mode
and using the value of $_POST['name']. This is what makes the form "sticky."
</p><p>
If the user had typed his or her name, PHP would have put the value back in the
text box, but if the user did not type his or her name, the value of $_POST['name']
will be empty and nothing will be restored to the text box.
</p><p>
If the user did not enter his or her name or phone in the text box fields, an error will
be printed right below it. If the user did enter his or her name, the value in
the $errors array element will be empty and nothing will be printed.
</p></li>
<li><p>
Where to Get Information About Superglobal Arrays
</p><p>
As we have seen throughout this chapter, PHP superglobal arrays (also called autoglobal),
such as <b>$_GET</b> and <b>$_POST</b> are defined as part of the global namespace
of your PHP script and used to store the user input coming from HTML forms.
</p><p>
Other superglobals, such as the server's configuration, cookies, or information 
about the environment are also accessible in your PHP script in superglobal arrays.
</p><p>
These predefined arrays are referred collectively as <b>EGPCS</b> (Environment, GET,
POST, Cookie, and Server information). They are called superglobals because they
are available in every part of your program.
</p></li>
<li><p>
The phpinfo() Function
</p><p>
To see the available predefined variables on your system, you can use the phpinfo()
function that includes not only all of the EGPCS information, but a huge amount
of information about PHP, such as version, operating system, environment,
compilation options, server information, HTTP headers, and so on.
</p><p>
The following table lists arguments used to customize the output of the phpinfo()
function.
</p><p>
You can use either the constant value in column 1 or the number value in column 2.
Column 3 describes the output. In the following example phpinfo() displays the
EGPCS predefined variables.
</p>
<blockquote><code><small>
&lt;?php<br>
&nbsp;&nbsp;// phpinfo(32) does the same thing<br>
&nbsp;&nbsp;phpinfo(INFO_VARIABLES);<br>
?&gt;<br>
</small></code></blockquote>
<p>
Table: phpinfo() Options
</p>
<blockquote>
<table>
<tr>
<td><code><b><u>
Name (Constant)</u></b></code></td>
<td><code><b><u>
Value</u></b>&nbsp;</code></td>
<td><code><b><u>
Description</u></b></code></td>
</tr><tr>
<td><code>
INFO_GENERAL</code></td>
<td><code>
1</code></td>
<td><code>
The configuration line, php.ini location, build date, Web server, system, and more.</code></td>
</tr><tr>
<td><code>
INFO_CREDITS</code></td>
<td><code>
2</code></td>
<td><code>
PHP credits. See also phpcredits().</code></td>
</tr><tr>
<td><code>
INFO_CONFIGURATION&nbsp;</code></td>
<td><code>
4</code></td>
<td><code>
Current local and master values for PHP directives. See also ini_get().</code></td>
</tr><tr>
<td><code>
INFO_MODULES</code></td>
<td><code>
8</code></td>
<td><code>
Loaded modules and their respective settings. See also get_loaded_extensions().</code></td>
</tr><tr>
<td><code>
INFO_ENVIRONMENT</code></td>
<td><code>
16</code></td>
<td><code>
Environment variable information that is also available in $_ENV.</code></td>
</tr><tr>
<td><code>
INFO_VARIABLES</code></td>
<td><code>
32</code></td>
<td><code>
Shows all predefined variables from EGPCS (Environment, GET, POST, Cookie, Server).</code></td>
</tr><tr>
<td><code>
INFO_LICENSE</code></td>
<td><code>
64</code></td>
<td><code>
PHP License information. See also the license FAQ.</code></td>
</tr><tr>
<td><code>
INFO_ALL</code></td>
<td><code>
1</code></td>
<td><code>
Shows all of the above. This is the default value.</code></td>
</tr>
</table>
</blockquote>
<p>
From: <a href="http://us2.php.net/phpinfo">http://us2.php.net/phpinfo</a>
For a complete list and definitions see:
<a href="http://us3.php.net/manual/en/reserved.variables.php">http://us3.php.net/manual/en/reserved.variables.php</a>
</p></li>
<li><p>
How to Get Server Information
</p><p>
We have been working with HTML forms and PHP, going back and forth between the
server and browser.
</p><p>
PHP makes information about your server available to your scripts.
The Web server assigns values to the PHP superglobal <b>$_SERVER</b> array such
as header, path, script locations, and version information.
</p><p>
All servers are not consistent in the information they provide. The table below
defines some of the superglobals (from the PHP manual) you will encounter in
the following units.
</p><p>
Table: Retrieving Server Information
</p>
<table>
<tr>
<td><code><b><u>
$_SERVER Key</u></b></code></td>
<td><code><b><u>
Description of Value</u></b></code></td>
</tr><tr>
<td><code>
PHP_SELF</code></td>
<td><code>
The filename of the currently executing script, relative to the document root.
For instance, $_SERVER['PHP_SELF'] in a script at the address
http://example.com/test.php/foo.bar would be /test.php/foo.bar.
The __FILE__ constant contains the full path and filename of the current (i.e., included) file.</code></td>
</tr><tr>
<td><code>
GATEWAY_INTERFACE&nbsp;</code></td>
<td><code>
The CGI specification the server is using (i.e., CGI/1.1).</code></td>
</tr><tr>
<td><code>
SERVER_NAME</code></td>
<td><code>
The name of the server host under which the current script is executing.
If the script is running on a virtual host, this will be the value defined for that virtual host.</code></td>
</tr><tr>
<td><code>
SERVER_SOFTWARE</code></td>
<td><code>
Server identification string, given in the headers when responding to requests.</code></td>
</tr><tr>
<td><code>
SERVER_PROTOCOL</code></td>
<td><code>
Name and revision of the information protocol via which the page was requested (i.e., HTTP/1.0).</code></td>
</tr><tr>
<td><code>
REQUEST_METHOD</code></td>
<td><code>
Which request method was used to access the page (i.e., GET, HEAD, POST, PUT).</code></td>
</tr><tr>
<td><code>
REQUEST_TIME</code></td>
<td><code>
The timestamp of the start of the request. Available since PHP 5.1.0.</code></td>
</tr><tr>
<td><code>
QUERY_STRING</code></td>
<td><code>
The query string, if any, via which the page was accessed.</code></td>
</tr><tr>
<td><code>
DOCUMENT_ROOT</code></td>
<td><code>
The document root directory under which the current script is executing,
as defined in the server's configuration file.</code></td>
</tr><tr>
<td><code>
HTTP_ACCEPT</code></td>
<td><code>
Contents of the Accept: header from the current request, if there is one.</code></td>
</tr><tr>
<td><code>
HTTP_CONNECTION</code></td>
<td><code>
Contents of the Connection: header from the current request,
if there is one. Example: Keep-Alive.</code></td>
</tr><tr>
<td><code>
HTTP_HOST</code></td>
<td><code>
Contents of the Host: header from the current request, if there is one.</code></td>
</tr><tr>
<td><code>
HTTP_REFERER</code></td>
<td><code>
The address of the page (if any) that referred the user agent to the current page.
This is set by the user agent. Not all user agents will set this, and some provide
the ability to modify HTTP_REFERER as a feature. In short, it cannot really be trusted.</code></td>
</tr><tr>
<td><code>
HTTP_USER_AGENT</code></td>
<td><code>
Contents of the User-Agent: header from the current request, if there is one.<br>
A typical example is:<br>
Mozilla/4.5 [en] (X11; U; Linux 2.2.9 i586)<br>
See also the get_browser() function.</code></td>
</tr><tr>
<td><code>
REMOTE_ADDR</code></td>
<td><code>
The IP address from which the user is viewing the current page.</code></td>
</tr><tr>
<td><code>
REMOTE_HOST</code></td>
<td><code>
The host name from which the user is viewing the current page.
The reverse DNS lookup is based off the REMOTE_ADDR of the user.</code></td>
</tr><tr>
<td><code>
REMOTE_PORT</code></td>
<td><code>
The port being used on the user's machine to communicate with the Web server.</code></td>
</tr><tr>
<td><code>
SCRIPT_FILENAME</code></td>
<td><code>
The absolute pathname of the currently executing script.
Note: If a script is executed with the CLI, as a relative path, such as
file.php or ../file.php, $_SERVER['SCRIPT_FILENAME'] will contain the
relative path specified by the user.</code></td>
</tr><tr>
<td><code>
SERVER_PORT</code></td>
<td><code>
The port on the server machine being used by the Web server for communication,
default is port 80; using SSL is your defined secure HTTP port.</code></td>
</tr><tr>
<td><code>
SERVER_SIGNATURE</code></td>
<td><code>
String containing the server version and virtual host name that are added
to server-generated pages, if enabled.</code></td>
</tr><tr>
<td><code>
PATH_TRANSLATED</code></td>
<td><code>
The path of the file system (not document root) related to the current script.</code></td>
</tr><tr>
<td><code>
SCRIPT_NAME</code></td>
<td><code>
Contains the current script's path. This is useful for self-processing pages.
The __FILE__ constant contains the full path and filename of the current (i.e., included) file.</code></td>
</tr><tr>
<td><code>
REQUEST_URI
<td><code>
The URI that was given to access this page; for instance, /index.html.</code></td>
</tr>
</table>
<p>
The $_SERVER array (partial output).
</p>
<h4>
Filename: serverInfo.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Server Information<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">yellow</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;table</span><span class="syntax17"> </span><span class="syntax17">border</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">foreach</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_SERVER</span> <span class="syntax8">as</span> <span class="syntax10">$</span><span class="syntax10">key</span><span class="syntax18">=</span><span class="syntax18">&gt;</span><span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   9:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;tr&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">key</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;/tr&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax18">}</span>
<span class="gutter">  13:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;/table</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
A partial output of the $_SERVER array is displayed in Figure 10.40.
</p>
<h4>
Filename: serverInfo2.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Server Info<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">verdana</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">My</span><span class="syntax14"> </span><span class="syntax14">server</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">SERVER_NAME</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">\&quot;</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">server</span><span class="syntax14">'</span><span class="syntax14">s</span><span class="syntax14"> </span><span class="syntax14">IP</span><span class="syntax14"> </span><span class="syntax14">address</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">REMOTE_ADDR</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">,</span>
<span class="gutterH">  10:</span>         <span class="syntax14">&quot;</span><span class="syntax14">\&quot;</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">My</span><span class="syntax14"> </span><span class="syntax14">browser</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">HTTP_USER_AGENT</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">,</span>
<span class="gutter">  12:</span>         <span class="syntax14">&quot;</span><span class="syntax14">\&quot;</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">PHP</span><span class="syntax14"> </span><span class="syntax14">script</span><span class="syntax14"> </span><span class="syntax14">being</span><span class="syntax14"> </span><span class="syntax14">executed</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax14">&quot;</span><span class="syntax18">,</span>
<span class="gutter">  14:</span>          <span class="syntax10">$</span><span class="syntax10">_SERVER</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">PHP_SELF</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">\&quot;</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  16:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The default name for the server on the local computer is "localhost".
</p><p>
The IP address for the server referred to as "localhost" is displayed.
This address can be used by TCP/IP applications.
</p><p>
The HTTP_USER_AGENT refers to the browser ID or user-agent string identifying
the browser that is sending the request.
</p><p>
In an HTTP transaction, this information is sent by the server to the browser
as a header followed by a blank line.
</p><p>
$_SERVER["PHP_SELF"] is the filename of the currently executing script,
relative to the document root. This variable is useful in creating self-processing forms.
</p></li>
<li><p>
How to Get Information About the Environment
</p><p>
The environment variables are predefined variables containing information about
the operating system, shell, path, CGI variables, and computer under which PHP is running.
</p><p>
If PHP is running as a CGI program, then the environment variables are used to
pass data about the information request from the server to the script.
The environment variables are set when the server executes the gateway program.
</p><p>
The <b>$_ENV</b> array contains the environment variables that can also be
displayed with the phpinfo() built-in function.
</p><p>
To access the name of the remote host, you would use the following syntax:
</p>
<blockquote><code><small>
echo $_ENV['REMOTE_HOST'];<br>
</small></code></blockquote>
<p>
or you can use the PHP getenv() function to get the value of an environment variable:
</p>
<blockquote><code><small>
echo getenv('REMOTE_HOST');<br>
</small></code></blockquote>
<p>
The output will vary from one system to another because there are a number of shells,
different servers, and so on.
</p><p>
For example, you might be running PHP in the Apache server on a Solaris operating
system using the Bash shell while I'm using Redhat Linux and the TCshell.
The variations can be enormous, resulting in enormous variations in output.
</p>
<blockquote><code><small>
&lt;?php<br>
&nbsp;&nbsp;// Display information about PHP environment<br>
&nbsp;&nbsp;phpinfo(16);<br>
?&gt;<br>
</small></code></blockquote>
</li>
</ul>
</div>
</body>
</html>

