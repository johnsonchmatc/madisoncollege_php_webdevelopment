<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>More Functions</title>
<link href="../../../css/basic.css" rel="stylesheet" type="text/css">
<script type="text/javascript" language="JavaScript">
<!--
function putSemester() {
    var today=new Date();
    var thisMonth=today.getMonth()+1;
    var thisYear=today.getFullYear();
    if(thisMonth <=6) {
        return "Spring, " + thisYear;
    }
    else {
       return "Fall, " + thisYear;
    }
}//-->
</script>
<style type="text/css">
<!--
    .bgStripes {
        background-image:url(../../../images/Xstripes.gif);
        background-attachment: fixed;
    }
    body {
        background-color:white;
    }
    strong {
        font-family: Arial, Helvetica, sans-serif;
    }
-->
</style>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<table class="bgStripes" border="0" width="100%">
<tbody>
<tr name="firstRow">
<td valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
<script type="text/javascript">
<!--
    document.write(putSemester());
-->
</script>
</span> <br>
</td>
<td style="text-align: center;"><span style="font-weight: bold; font-size: medium; color: darkblue;">
PHP Web Development with MySQL
</span> </td>
<td align="right" valign="top" width="80"><span style="font-size: x-small; font-weight: bold;">
3 Credits</span> </td>
</tr>
<tr>
<td colspan="3" style="text-align: center;"><span style="font-size: xx-small; font-weight: bold;">
152-166</span> </td>
</tr>
</tbody>
</table>
<!--The heading for the slides --> <br>
<table class="headTable1" border="0">
<tbody>
<tr>
<td width="100"><a href="func1.html"><img alt="" src="../../../images/btn_lArrow.gif" border="0"></a><a href="index.html"><img alt="" src="../../../images/btn_upArrow.gif" border="0"></a><a href="index.html"><img alt="" src="../../../images/btn_rArrow.gif" border="0"></a></td>
<td>Writing Functions - Additional Features</td>
</tr>
</tbody>
</table>
<br>
<div class="disp1">
<ul class="slidesUl1">
<li><p>
Return Values
</p><p>
After taking a detour from the main road, it is now time to return.
The <b>return</b> statement in a function allows you to send a value back to
the caller or to exit the function before it reaches the end.
</p><p>
Normally if a return call happens before a function ends, it is based on some
condition that was met or not met.
</p><p>
Single or multiple values, as well as references, can be returned from a function.
</p></li>
<li><p>
Returning a Single Value
</p><p>
In the following example, the value of a simple scalar variable is returned
from a function and assigned to a variable on the receiving end.
</p><p>
The function is called on the right-hand side of the equal sign, and the value
returned is stored in the variable on the left-hand side.
</p>
<h4>
Filename: missingArgs.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax10">$</span><span class="syntax10">grades</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">40</span><span class="syntax18">,</span> <span class="syntax5">90</span><span class="syntax18">,</span> <span class="syntax5">89</span><span class="syntax18">,</span> <span class="syntax5">93</span><span class="syntax18">,</span> <span class="syntax5">75</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   3:</span>  <span class="syntax10">$</span><span class="syntax10">result</span> <span class="syntax18">=</span> <span class="syntax6">average</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">grades</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">average</span><span class="syntax14"> </span><span class="syntax14">grade</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">result</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>  
<span class="gutter">   6:</span>  <span class="syntax8">function</span> <span class="syntax6">average</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">scores</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Find</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">size</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">array</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">size</span> <span class="syntax18">=</span> <span class="syntax9">count</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">scores</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">size</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Empty</span><span class="syntax14"> </span><span class="syntax14">parameter</span><span class="syntax14"> </span><span class="syntax14">list</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax8">exit</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax18">}</span>
<span class="gutter">  14:</span>    <span class="syntax8">for</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">&lt;</span><span class="syntax10">$</span><span class="syntax10">size</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  15:</span>      <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">+</span><span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">scores</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>    <span class="syntax18">}</span>
<span class="gutter">  17:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Return</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">average</span>
<span class="gutter">  18:</span>    <span class="syntax8">return</span> <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">/</span> <span class="syntax10">$</span><span class="syntax10">size</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>  <span class="syntax18">}</span>
<span class="gutterH">  20:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The user-defined function <b>average()</b> is on the right-hand side of the
equal sign, causing it to be called before an assignment can be made to $result.
</p><p>
The function has one argument, the array, $grades. Whatever is returned from the
function will be assigned to $result.
</p><p>
On the next line that result is displayed in the browser.
</p><p>
The function named average is defined with one parameter, an array of numbers.
</p><p>
The built-in count() function determines the number of elements in the array
that was passed to the function.
</p><p>
If the function received no parameters, the <b>exit</b> statement will cause the
function to quit here and exit the script. This statement prevents further
execution of the remaining statements in the function.
</p><p>
The for loop is used to iterate through the array of scores accumulating the
sum of the scores. The size of the array determines when the loop ends.
</p><p>
The expression <b>$sum / $size</b> is evaluated and its result is returned to
where the function was called from, and that value will be assigned to $result.
</p></li>
<li><p>
Conditional Returns
</p><p>
If what is returned from a function is based on some condition, you can have
multiple return statements in a function.
</p><p>
The return value can be a boolean TRUE or FALSE as we have already seen in a
number of the PHP's built-in functions, or a value returned based on a test
condition. Consider the following example in which there are three return statements.
</p>
<h4>
Filename: manyReturns.html (The HTML file)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;</span><span class="syntax17">html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>What time is it?<span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;</span><span class="syntax17">body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">silver</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;</span><span class="syntax17">div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">center</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;</span><span class="syntax17">form</span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">manyReturns.php</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">post</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>   Enter the number of hours since midnight<span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">text</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax13">'</span><span class="syntax13">3</span><span class="syntax13">'</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">time</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">  10:</span>   <span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;</span><span class="syntax17">br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">submit</span><span class="syntax13">&quot;</span><span class="syntax17"> </span><span class="syntax17">value</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">Get</span><span class="syntax13"> </span><span class="syntax13">the</span><span class="syntax13"> </span><span class="syntax13">time!</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>   <span class="syntax17">&lt;</span><span class="syntax17">p</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>   <span class="syntax17">&lt;</span><span class="syntax17">input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax13">&quot;</span><span class="syntax13">reset</span><span class="syntax13">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">form</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">div</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span> <span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">body</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span><span class="syntax17">&lt;</span><span class="syntax17">/</span><span class="syntax17">html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<h4>
Filename: manyReturns.php (The PHP file)
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Conditional Return<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">center</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax8">function</span> <span class="syntax6">clock_time</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">total_hours</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  10:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">total_hours</span> <span class="syntax18">&lt;</span> <span class="syntax5">0</span> <span class="syntax18">|</span><span class="syntax18">|</span> <span class="syntax10">$</span><span class="syntax10">total_hours</span> <span class="syntax18">&gt;</span> <span class="syntax5">23</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>        <span class="syntax8">return</span> <span class="syntax14">&quot;</span><span class="syntax14">Invalid</span><span class="syntax14"> </span><span class="syntax14">input</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax18">}</span>
<span class="gutter">  13:</span>      <span class="syntax10">$</span><span class="syntax10">hours</span> <span class="syntax18">=</span><span class="syntax18"> (</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">total_hours</span> <span class="syntax18">-</span> <span class="syntax5">1</span><span class="syntax18">)</span> <span class="syntax18">%</span> <span class="syntax5">12</span><span class="syntax18">)</span> <span class="syntax18">+</span> <span class="syntax5">1</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">total_hours</span> <span class="syntax18">&gt;</span><span class="syntax18">=</span> <span class="syntax5">12</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  15:</span>        <span class="syntax8">return</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">time</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">hours</span><span class="syntax14"> </span><span class="syntax14">PM</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>      <span class="syntax18">}</span>
<span class="gutter">  17:</span>      <span class="syntax8">else</span> <span class="syntax18">{</span>
<span class="gutter">  18:</span>        <span class="syntax8">return</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">time</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">hours</span><span class="syntax14"> </span><span class="syntax14">AM</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax18">}</span>
<span class="gutterH">  20:</span>    <span class="syntax18">}</span>
<span class="gutter">  21:</span>    
<span class="gutter">  22:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">If</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">user</span><span class="syntax2"> </span><span class="syntax2">filled</span><span class="syntax2"> </span><span class="syntax2">in</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">text</span><span class="syntax2"> </span><span class="syntax2">field,</span><span class="syntax2"> </span><span class="syntax2">enter</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">block</span>
<span class="gutter">  23:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">_REQUEST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">time</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  24:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Remove</span><span class="syntax2"> </span><span class="syntax2">any</span><span class="syntax2"> </span><span class="syntax2">leading/trail</span><span class="syntax2"> </span><span class="syntax2">whitespace</span>
<span class="gutterH">  25:</span>      <span class="syntax10">$</span><span class="syntax10">num_hours</span><span class="syntax18">=</span><span class="syntax9">trim</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_REQUEST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">time</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">;</span>  
<span class="gutter">  26:</span>      <span class="syntax8">print</span> <span class="syntax6">clock_time</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num_hours</span><span class="syntax18">)</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Call</span><span class="syntax2"> </span><span class="syntax2">clock_time</span>
<span class="gutter">  27:</span>    <span class="syntax18">}</span>
<span class="gutter">  28:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  29:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutterH">  30:</span>  <span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
<span class="gutter">  31:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  32:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The HTML file will display an HTML form with a text box, named time. When the
user presses the submit button, the form data will be sent to the PHP script
<b>manyReturns.php</b> .
</p><p>
The function <b>clock_time()</b> is declared in our PHP script. It takes one
argument and returns a string containing the current hour in AM/PM notation.
</p><p>
There are 3 return statements in the function. Each returns a string to be
printed by the main script.
</p></li>
<li><p>
Returning Multiple Values
</p><p>
Sometimes you might want to return multiple values from a function.
</p><p>
For example, you have opened a file or database, and want to define a function
to retrieve information by reading lines from a file or fetching rows from a database.
</p><p>
The function will return a list of the items that were retrieved, such as a
product, unit number, price, quantity, and so on.
</p><p>
PHP allows you to return not only single values, but arrays and associative arrays.
The following example uses a simple function to square all the values in an array
and return the modified array.
</p><p>
<b>Note</b>: You must return the array, not its individual elements.
For example: <b>return($n[0], $n[1], $n[2], $n[3]);</b> would be wrong.
</p>
<h4>
Filename: arrayReturn.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax10">$</span><span class="syntax10">numbers</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">1</span><span class="syntax18">,</span><span class="syntax5">2</span><span class="syntax18">,</span><span class="syntax5">3</span><span class="syntax18">,</span><span class="syntax5">4</span><span class="syntax18">,</span><span class="syntax5">5</span><span class="syntax18">,</span><span class="syntax5">6</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   3:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">pre</span><span class="syntax14">&gt;</span><span class="syntax14">Before</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  <span class="syntax9">print_r</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">numbers</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>  
<span class="gutter">   6:</span>  <span class="syntax10">$</span><span class="syntax10">new_numbers</span> <span class="syntax18">=</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">numbers</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">After</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>  <span class="syntax9">print_r</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">new_numbers</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">pre</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>  
<span class="gutter">  11:</span>  <span class="syntax8">function</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  12:</span>    <span class="syntax8">for</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">&lt;</span><span class="syntax9">count</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">)</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  13:</span>      <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">]</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">]</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax18">}</span>
<span class="gutterH">  15:</span>    <span class="syntax8">return</span> <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Return</span><span class="syntax2"> </span><span class="syntax2">an</span><span class="syntax2"> </span><span class="syntax2">array</span>
<span class="gutter">  16:</span>  <span class="syntax18">}</span>
<span class="gutter">  17:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
A numeric array of integers is defined, and passed to the function <b>square()</b> .
</p><p>
The function squares each of the numbers passed in the parameter list, and returns
the array <b>$n</b> to the caller.
</p><p>
The array is displayed before and after its values were squared.
</p><p>
Consider the next example. We have not discussed how PHP interacts with the
MYSQL database, but you can overlook the details and see that the function
<b>get_info()</b> returns a multidimensional array resulting from a database query.
</p>
<h4>
Filename: dbReturn.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Returning a List<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h2</span><span class="syntax17">&gt;</span>Function Returns an Array of Hashes<span class="syntax17">&lt;/h2</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Opening</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">MySQL</span><span class="syntax14"> </span><span class="syntax14">connection</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">connection</span> <span class="syntax18">=</span> <span class="syntax9">mysql_connect</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">itins3.matcmadison.edu</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">astudent</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">astudent</span><span class="syntax13">'</span><span class="syntax18">)</span>
<span class="gutter">  11:</span>      <span class="syntax18">or</span> <span class="syntax8">die</span><span class="syntax18"> (</span><span class="syntax14">&quot;</span><span class="syntax14">Couldn</span><span class="syntax14">'</span><span class="syntax14">t</span><span class="syntax14"> </span><span class="syntax14">open</span><span class="syntax14"> </span><span class="syntax14">connection</span><span class="syntax14"> </span><span class="syntax14">to</span><span class="syntax14"> </span><span class="syntax14">class</span><span class="syntax14"> </span><span class="syntax14">server</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax10">$</span><span class="syntax10">result</span> <span class="syntax18">=</span> <span class="syntax9">mysql_select_db</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">winestore</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">result</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  14:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Database</span><span class="syntax14"> </span><span class="syntax14">\&quot;winestore\&quot;</span><span class="syntax14"> </span><span class="syntax14">selected</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>    
<span class="gutter">  17:</span>    <span class="syntax8">function</span> <span class="syntax6">get_info</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  18:</span>      <span class="syntax10">$</span><span class="syntax10">record</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax10">$</span><span class="syntax10">result_set</span> <span class="syntax18">=</span> <span class="syntax9">mysql_query</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">SELECT</span><span class="syntax14"> </span><span class="syntax14">*</span><span class="syntax14"> </span><span class="syntax14">FROM</span><span class="syntax14"> </span><span class="syntax14">winery</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>      <span class="syntax8">while</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">row</span> <span class="syntax18">=</span> <span class="syntax9">mysql_fetch_assoc</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">result_set</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  21:</span>        <span class="syntax9">array_push</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">record</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">row</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  22:</span>      <span class="syntax18">}</span>
<span class="gutter">  23:</span>      <span class="syntax8">return</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">record</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>    <span class="syntax18">}</span>
<span class="gutterH">  25:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  26:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  27:</span>  <span class="syntax17">&lt;b</span><span class="syntax17">&gt;</span>
<span class="gutter">  28:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  29:</span>    <span class="syntax10">$</span><span class="syntax10">company_records</span> <span class="syntax18">=</span> <span class="syntax6">get_info</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  30:</span>    <span class="syntax8">foreach</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">company_records</span> <span class="syntax8">as</span> <span class="syntax10">$</span><span class="syntax10">key</span> <span class="syntax18">=</span><span class="syntax18">&gt;</span> <span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  31:</span>      <span class="syntax8">foreach</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">value</span> <span class="syntax8">as</span> <span class="syntax10">$</span><span class="syntax10">field_key</span> <span class="syntax18">=</span><span class="syntax18">&gt;</span> <span class="syntax10">$</span><span class="syntax10">val</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  32:</span>        <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">field_key</span><span class="syntax14"> </span><span class="syntax14">=</span><span class="syntax14">&gt;</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">val</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  33:</span>      <span class="syntax18">}</span>
<span class="gutter">  34:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">hr</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  35:</span>    <span class="syntax18">}</span>
<span class="gutter">  36:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  37:</span>  <span class="syntax17">&lt;/b</span><span class="syntax17">&gt;</span>
<span class="gutter">  38:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  39:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  40:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The PHP mysql_connect() function opens up a connection to the MYSQL server and
returns a link to the server so that we can access a database.
</p><p>
The mysql_select_db() function selects a database named winestore is opened.
A resource data type holds a special handler to the database connection created
when the database connection is made.
</p><p>
The function <b>get_info()</b> is defined to retrieve all the records from the
winery table and return them to the caller.
</p><p>
The mysql_query() function sends a query to the currently active database and
returns a reference to the data it selected; that is, all of the records in
table winery.
</p><p>
The mysql_fetch_assoc() function returns an associative array that corresponds
to the fetched row and moves the internal data pointer ahead to the next row.
</p><p>
A set of records from the winery table are returned to the caller as an array of
associative arrays.
</p></li>
<li><p>
Using Callback Functions
</p><p>
A callback function is one that is not directly invoked in the program.
Instead it is invoked by another function.
</p><p>
What that means is that one function takes another function, called the "callback"
function, as its argument.
</p><p>
Callback functions are often used to perform some arbitrary task on each item
in a list of items. One function traverses the list, and the other provides the
code that performs a task that will be performed on each item.
</p><p>
PHP provides a number of array functions that utilize "callbacks".
Some of these functions are: <b>preg_replace()</b> ,<b> array_filter()</b> ,
<b>array_map()</b>
</p><p>
Callback functions can be more than simple functions. They can also be object
methods including static class methods.
</p><p>
A PHP function is simply passed by its name as a string. You can pass any
built-in or user-defined function with the exception of: <b>array()</b> ,
<b>echo()</b> , <b>empty()</b> , <b>eval()</b> , <b>exit()</b> , <b>isset()</b> ,
<b>list()</b> , <b>print()</b> , and <b>unset()</b> .
</p></li>
<li><p>
The array_map() Function
</p><p>
The following example uses PHP's <b>array_map()</b> function to demonstrate
the use of a callback function.
</p><p>
The array_map() function returns an array containing all the elements of the
original array after applying the callback function to each element.
</p><p>
The number of parameters that the callback function accepts should match the
number of arrays passed to array_map().
</p><p>
Format:
</p>
<blockquote><code><small>
array array_map ( callback callback, array arr1 [, array ...] )<br>
</small></code></blockquote>
<p>
Example:
</p>
<blockquote><code><small>
// User-defined callback function<br>
function square($n) {<br>
&nbsp;&nbsp;return $n * $n;<br>
}<br>
$numbers=array(1,4,6,8);<br>
$squared_list =  array_map("square","$numbers");<br>
</small></code></blockquote>
<h4>
Filename: arrayMap.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Callback</span><span class="syntax2"> </span><span class="syntax2">function</span>
<span class="gutter">   3:</span>  <span class="syntax8">function</span> <span class="syntax6">salestax</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">price</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   4:</span>    <span class="syntax10">$</span><span class="syntax10">tax</span> <span class="syntax18">=</span> <span class="syntax5">1</span><span class="syntax18">.</span><span class="syntax5">15</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax8">return</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">price</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">tax</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>  <span class="syntax18">}</span>
<span class="gutter">   7:</span>  <span class="syntax10">$</span><span class="syntax10">before_prices</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">1</span><span class="syntax18">.</span><span class="syntax5">50</span><span class="syntax18">,</span> <span class="syntax5">3</span><span class="syntax18">.</span><span class="syntax5">55</span><span class="syntax18">,</span> <span class="syntax5">4</span><span class="syntax18">.</span><span class="syntax5">75</span><span class="syntax18">,</span> <span class="syntax5">6</span><span class="syntax18">.</span><span class="syntax5">00</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">array_map</span>
<span class="gutter">   9:</span>  <span class="syntax10">$</span><span class="syntax10">after_prices</span> <span class="syntax18">=</span> <span class="syntax9">array_map</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">salestax</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">before_prices</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax14">Before</span><span class="syntax14"> </span><span class="syntax14">map</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>  <span class="syntax8">foreach</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">before_prices</span> <span class="syntax8">as</span> <span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  12:</span>    <span class="syntax9">printf</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">\$</span><span class="syntax14">%</span><span class="syntax14">.</span><span class="syntax14">2f</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>  <span class="syntax18">}</span>
<span class="gutter">  14:</span>  <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">After</span><span class="syntax14"> </span><span class="syntax14">map</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>  <span class="syntax8">foreach</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">after_prices</span> <span class="syntax8">as</span> <span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span><span class="syntax18">{</span>
<span class="gutter">  17:</span>    <span class="syntax9">printf</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">\$</span><span class="syntax14">%</span><span class="syntax14">.</span><span class="syntax14">2f</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>  <span class="syntax18">}</span>
<span class="gutter">  19:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
<b>salestax()</b> is a user-defined callback function. It will be called for
each element in an array of values that it receives from another function,
called <b>array_map()</b> .
</p><p>
The value of each element of the array will be returned after the sales tax has
been applied to it.
</p><p>
An array nameded $after_prices is returned by the callback function after it
has performed a calculation on each element of $before_prices.
</p></li>
<li><p>
The array_walk_recursive() Function
</p><p>
The <b>array_walk_recursive()</b> applies a user-defined callback function to
every element of an array and will recurse into nested arrays.
</p><p>
Normally the array_walk_recursive() function takes two arguments: the first one
is the array being walked over, and the second one is the value of the key or
index of the array.
</p><p>
A third, optional argument is an additional value that you can send to the
callback function. The functon returns true on success and false on failure.
</p><p>
If your callback function needs to be working with the actual values of the
array, specify the first parameter of the callback as a reference. Then, any
changes made to those elements will be made in the original array itself.
</p><p>
Format:
</p>
<code><small>
bool array_walk_recursive ( array &amp;input, callback funcname<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[, mixed userdata] )<br>
</small></code>
<p>
Example:
</p>
<blockquote><code><small>
$employee = array("Name"=>"Bob","Title"=>"President");<br>
array_walk_recursive($employee,'callback_function');<br>
</small></code></blockquote>
<h4>
Filename: arrayMap.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Walking Through a Multidimensional Array
<span class="gutter">   4:</span>  <span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">center</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Using a Callback Function with a Multidimensional Array<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">numbers</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">1</span><span class="syntax18">,</span><span class="syntax5">2</span><span class="syntax18">,</span><span class="syntax5">3</span><span class="syntax18">,</span><span class="syntax5">4</span><span class="syntax18">)</span><span class="syntax18">,</span>
<span class="gutter">  11:</span>                     <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">4</span><span class="syntax18">,</span><span class="syntax5">8</span><span class="syntax18">,</span><span class="syntax5">10</span><span class="syntax18">,</span><span class="syntax5">12</span><span class="syntax18">)</span><span class="syntax18">,</span>
<span class="gutter">  12:</span>                     <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax5">20</span><span class="syntax18">,</span><span class="syntax5">25</span><span class="syntax18">,</span><span class="syntax5">30</span><span class="syntax18">,</span><span class="syntax5">35</span><span class="syntax18">)</span><span class="syntax18">,</span>
<span class="gutter">  13:</span>                    <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    
<span class="gutterH">  15:</span>    <span class="syntax8">function</span> <span class="syntax6">cube</span><span class="syntax18">(</span><span class="syntax18">&amp;</span><span class="syntax10">$</span><span class="syntax10">element</span><span class="syntax18">,</span><span class="syntax10">$</span><span class="syntax10">index</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  16:</span>      <span class="syntax8">print</span> <span class="syntax10">$</span><span class="syntax10">index</span><span class="syntax18">;</span>   <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">prints</span><span class="syntax2"> </span><span class="syntax2">012301230123</span>
<span class="gutter">  17:</span>      <span class="syntax10">$</span><span class="syntax10">element</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">element</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">element</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">element</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>    <span class="syntax18">}</span>
<span class="gutter">  19:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  20:</span>  <span class="syntax17">&lt;table</span><span class="syntax17"> </span><span class="syntax17">border</span><span class="syntax18">=</span><span class="syntax13">'</span><span class="syntax13">1</span><span class="syntax13">'</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;caption</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax13">'</span><span class="syntax13">-</span><span class="syntax13">1</span><span class="syntax13">'</span><span class="syntax17">&gt;</span>The <span class="syntax17">&lt;em</span><span class="syntax17">&gt;</span>
<span class="gutter">  21:</span>  array_walk_recursive()<span class="syntax17">&lt;/em</span><span class="syntax17">&gt;</span> function<span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/caption</span><span class="syntax17">&gt;</span>
<span class="gutter">  22:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  23:</span>    <span class="syntax9">array_walk_recursive</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">numbers</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">cube</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>    <span class="syntax8">for</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span> <span class="syntax18">&lt;</span> <span class="syntax5">3</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  25:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">tr</span><span class="syntax14"> </span><span class="syntax14">bgcolor</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax14">999FFF</span><span class="syntax14">'</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  26:</span>      <span class="syntax8">for</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">j</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">j</span><span class="syntax18">&lt;</span><span class="syntax5">4</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">j</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  27:</span>        <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">.</span><span class="syntax10">$</span><span class="syntax10">numbers</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">i</span><span class="syntax18">]</span><span class="syntax18">[</span><span class="syntax10">$</span><span class="syntax10">j</span><span class="syntax18">]</span> <span class="syntax18">;</span>
<span class="gutter">  28:</span>      <span class="syntax18">}</span>
<span class="gutter">  29:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">tr</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  30:</span>    <span class="syntax18">}</span>
<span class="gutter">  31:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">table</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  32:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  33:</span>  <span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
<span class="gutter">  34:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  35:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
$numbers is a multidimensional array containing three subarrays.
</p><p>
The <b>cube()</b> callback function takes a reference to the array being walked
over as its first argument and the index of each element of the array.
It cubes each of the array's elements.
</p><p>
The <b>array_walk_recursive()</b> function takes the array as its first argument,
and the name of the function, 'cube', as a string value for its second argument.
</p></li>
<li><p>
Scope
</p><p>
Scope refers to the parts of a program that can see or access a variable.
That is, where the variable is visible.
</p><p>
Lifetime is how long the variable exists. There are three types of scope for
PHP variables: local, global, and static.
</p><p>
Local variables are visible inside a function and their life ends when the
function ends.
</p><p>
Global variables are visible to a script, but not normally to a function. They
live throughout the run of the script, and die when the script ends.
</p><p>
Static variables are local to a function but retain their value from one function
call to another. They die when the script ends.
</p><p>
Let's look at some examples to see how scope and lifetime work.
</p></li>
<li><p>
Local Scope
</p><p>
By default, all variables declared within functions are local to the function;
that is, they are not visible outside the function and die when the function exits.
</p><p>
In computer jargon, these variables are pushed onto a stack when the function
starts and popped off when the function ends.
</p>
<h4>
Filename: scope1.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Global</span><span class="syntax2"> </span><span class="syntax2">variable,</span><span class="syntax2"> </span><span class="syntax2">visible</span><span class="syntax2"> </span><span class="syntax2">outside</span><span class="syntax2"> </span><span class="syntax2">functions</span>
<span class="gutter">   3:</span>  <span class="syntax10">$</span><span class="syntax10">friend</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Sam</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>  
<span class="gutterH">   5:</span>  <span class="syntax8">function</span> <span class="syntax6">who</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   6:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Local</span><span class="syntax2"> </span><span class="syntax2">variable;</span><span class="syntax2"> </span><span class="syntax2">disappears</span><span class="syntax2"> </span><span class="syntax2">when</span><span class="syntax2"> </span><span class="syntax2">function</span><span class="syntax2"> </span><span class="syntax2">ends</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">friend</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Joe</span><span class="syntax14">&quot;</span><span class="syntax18">;</span> 
<span class="gutter">   8:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">In</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">function</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">friend</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">your</span><span class="syntax14"> </span><span class="syntax14">local</span><span class="syntax14"> </span><span class="syntax14">friend</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>  <span class="syntax18">}</span>
<span class="gutterH">  10:</span>  
<span class="gutter">  11:</span>  <span class="syntax6">who</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>   <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Function</span><span class="syntax2"> </span><span class="syntax2">call</span>
<span class="gutter">  12:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Out</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">function</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">your</span><span class="syntax14"> </span><span class="syntax14">friend</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">friend</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">.</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The first <b>$friend</b> is a global variable in that it is visible to the main
script, and will disappear when the script ends. It will not be visible inside functions.
</p><p>
Even though the variable in <b>who()</b> is also called $friend, it is a
different variable. It is local to the function and will disappear when the
function ends.
</p></li>
<li><p>
Global Scope
</p><p>
From within a function you cannot access variables that were declared outside
the function unless you pass the variable to the function as an argument,
by reference.
</p><p>
If you need to access an external variable inside a function without passing it
by reference, then you can use the <b>global</b> statement.
</p><p>
By placing the global keyword in front of a variable name, the variable that
was defined outside the function can now be accessed.
</p><p>
Format:
</p>
<blockquote><code><small>
global variable_name1, variable_name2, variable_name3 ...;<br>
</small></code></blockquote>
<p>
Example:
</p>
<blockquote><code><small>
global $salary;<br>
</small></code></blockquote>
<h4>
Filename: scope2.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Function Arguments<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lightgreen</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">arial</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">function</span> <span class="syntax6">raise_sal</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   9:</span>      <span class="syntax8">global</span> <span class="syntax10">$</span><span class="syntax10">salary</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>      <span class="syntax10">$</span><span class="syntax10">salary</span> <span class="syntax18">*</span><span class="syntax18">=</span> <span class="syntax5">1</span><span class="syntax18">.</span><span class="syntax5">1</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">10</span><span class="syntax2"> </span><span class="syntax2">percent</span><span class="syntax2"> </span><span class="syntax2">raise</span>
<span class="gutter">  11:</span>    <span class="syntax18">}</span>
<span class="gutter">  12:</span>    <span class="syntax10">$</span><span class="syntax10">salary</span> <span class="syntax18">=</span> <span class="syntax5">50000</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax6">raise_sal</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">Congratulations!</span><span class="syntax13"> </span><span class="syntax13">Your</span><span class="syntax13"> </span><span class="syntax13">new</span><span class="syntax13"> </span><span class="syntax13">salary</span><span class="syntax13"> </span><span class="syntax13">is:</span><span class="syntax13"> </span><span class="syntax13">$</span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">salary</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  16:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The keyword <b>global</b> allows the <b>raise_sal()</b> function to have access
to the variable, $salary, defined outside this function.
</p><p>
The variable, $salary, is defined outside the function and is not available to the function,
unless it is passed by reference or is made global within the function.
</p></li>
<li><p>
The $GLOBALS() Array
</p><p>
The other way to access a global variable inside a function is with the
<b>$GLOBALS[]</b> array. It contains all the variables that have global scope
in the script (i.e., any variables declared outside of functions).
</p>
<h4>
Filename: scope3.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Function Arguments<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lightblue</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">arial</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">function</span> <span class="syntax6">raise_sal</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   9:</span>      <span class="syntax10">$</span><span class="syntax10">GLOBALS</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">salary</span><span class="syntax13">'</span><span class="syntax18">]</span> <span class="syntax18">*</span><span class="syntax18">=</span> <span class="syntax5">1</span><span class="syntax18">.</span><span class="syntax5">1</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax18">}</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">salary</span> <span class="syntax18">=</span> <span class="syntax5">50000</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax6">raise_sal</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">Congratulations!</span><span class="syntax13"> </span><span class="syntax13">Your</span><span class="syntax13"> </span><span class="syntax13">new</span><span class="syntax13"> </span><span class="syntax13">salary</span><span class="syntax13"> </span><span class="syntax13">is:</span><span class="syntax13"> </span><span class="syntax13">$</span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">salary</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  15:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The <b>$GLOBALS[]</b> array gives the function access to variables defined from
outside the function; in this case, $salary.
</p><p>
The name of the variable becomes the key in the $GLOBALS[] associative array.
</p></li>
<li><p>
Static Variables
</p><p>
The variables declared inside functions normally disappear when the function ends.
They are local to the function. They are created when the function is called
and die when it ends.
</p><p>
A static variable is local to the function, meaning it is not visible outside
of the function, but it does not die when the function ends.
</p><p>
Once initialized a static variable will not lose its value between function
calls. It "remembers" the value it held from one call to the next.
</p>
<h4>
Filename: static.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">function</span> <span class="syntax6">trackme</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">static</span> <span class="syntax10">$</span><span class="syntax10">count</span> <span class="syntax18">=</span> <span class="syntax5">0</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    <span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">You</span><span class="syntax14"> </span><span class="syntax14">have</span><span class="syntax14"> </span><span class="syntax14">been</span><span class="syntax14"> </span><span class="syntax14">here</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax14"> </span><span class="syntax14">times</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>  <span class="syntax18">}</span>
<span class="gutter">   7:</span>  <span class="syntax6">trackme</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>  <span class="syntax6">trackme</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>  <span class="syntax6">trackme</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
By making the variable <b>$count</b> static, it will retain its value even after
the function exits.
</p><p>
Each time trackme() is called, the count will be incremented by 1. The variable
is only initialized to zero the first time the function is called.
</p>
<h4>
Filename: static2.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Function Arguments<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lightgreen</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">face</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">verdana</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax8">function</span> <span class="syntax6">increase_font</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">size</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   9:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">The</span><span class="syntax2"> </span><span class="syntax2">value</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">$total</span><span class="syntax2"> </span><span class="syntax2">will</span><span class="syntax2"> </span><span class="syntax2">persist</span><span class="syntax2"> </span><span class="syntax2">between</span><span class="syntax2"> </span><span class="syntax2">calls</span>
<span class="gutterH">  10:</span>      <span class="syntax8">static</span> <span class="syntax10">$</span><span class="syntax10">total</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>      <span class="syntax10">$</span><span class="syntax10">newfont</span><span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">size</span><span class="syntax18">+</span><span class="syntax18">+</span> <span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax10">$</span><span class="syntax10">total</span> <span class="syntax18">+</span><span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">newfont</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Keep</span><span class="syntax2"> </span><span class="syntax2">a</span><span class="syntax2"> </span><span class="syntax2">running</span><span class="syntax2"> </span><span class="syntax2">total</span>
<span class="gutter">  13:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax13">'</span><span class="syntax17">&lt;?</span><span class="syntax18">=</span><span class="syntax18">+</span><span class="syntax10">$</span><span class="syntax10">newfont</span><span class="syntax17">?&gt;</span><span class="syntax13">'</span><span class="syntax17">&gt;</span>bigger<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  16:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">total</span> <span class="syntax18">&gt;</span> <span class="syntax5">10</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  17:</span>        <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax10">$</span><span class="syntax10">total</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">Too</span><span class="syntax14"> </span><span class="syntax14">big</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>        <span class="syntax8">exit</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax18">}</span>
<span class="gutterH">  20:</span>    <span class="syntax18">}</span>
<span class="gutter">  21:</span>    <span class="syntax8">for</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">&lt;</span><span class="syntax18">=</span><span class="syntax5">10</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  22:</span>      <span class="syntax6">increase_font</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>    <span class="syntax18">}</span>
<span class="gutter">  24:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  25:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The function <b>increase_font()</b> is defined. It has parameter $size which
represents the font size for the verdana font listed above.
</p><p>
The static variable $total is defined and is assigned an initial value of 0.
This variable will not forget its value after the function exits.
</p><p>
The variable $newfont is increased by 1 when the function is called.
Then $newfont is added to $total.
</p><p>
When the accumulated total reaches a value greater than 10, the script exits.
</p></li>
<li><p>
Nesting Functions
</p><p>
PHP supports nesting of functions. A nested function is defined and called from
within another function.
</p><p>
The outer function, also called the parent function, has to be invoked for the
nested function to become available to the program. Nested functions are rarely
used in PHP.
</p><p>
Format:
</p>
<blockquote><code><small>
function OuterFunction() {<br>
&nbsp;&nbsp;function NestedFunction() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// OuterFunction() must be called before<br>
&nbsp;&nbsp;&nbsp;&nbsp;// NestedFunction() is available.<br>
&nbsp;&nbsp;&nbsp;&nbsp;statements;<br>
&nbsp;&nbsp;}<br>
}<br>
</small></code></blockquote>
<p>
PHP functions can also be nested inside other statement blocks, such as
conditional statements.
</p><p>
As with nested functions, such functions will only be defined when that block
of code has been executed.
</p>
<h4>
Filename: nested.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">function</span> <span class="syntax6">outer</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">a</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">b</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Greetings</span><span class="syntax14"> </span><span class="syntax14">from</span><span class="syntax14"> </span><span class="syntax14">outer</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    
<span class="gutterH">   5:</span>    <span class="syntax8">function</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">x</span><span class="syntax18">)</span> <span class="syntax18">{</span>   <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Nested</span><span class="syntax2"> </span><span class="syntax2">function</span>
<span class="gutter">   6:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Greetings</span><span class="syntax14"> </span><span class="syntax14">from</span><span class="syntax14"> </span><span class="syntax14">square</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>      <span class="syntax8">return</span> <span class="syntax10">$</span><span class="syntax10">x</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">x</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax18">}</span>
<span class="gutter">   9:</span>    <span class="syntax8">return</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">a</span><span class="syntax18">)</span> <span class="syntax18">+</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">b</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>  <span class="syntax18">}</span>
<span class="gutter">  11:</span>  
<span class="gutter">  12:</span>  <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">=</span> <span class="syntax6">outer</span><span class="syntax18">(</span><span class="syntax5">5</span><span class="syntax18">,</span><span class="syntax5">8</span><span class="syntax18">)</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Call</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">outer()</span>
<span class="gutter">  13:</span>  <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">sum</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">squares</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">sum\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>  <span class="syntax10">$</span><span class="syntax10">squared</span> <span class="syntax18">=</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax5">5</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>  <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">5</span><span class="syntax14"> </span><span class="syntax14">squared</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">squared</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  16:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The function <b>outer()</b> will be the parent function for the nested function
<b>square()</b> .
</p><p>
Because square() is nested in the outer() function, it will not be defined until
outer() has been called.
</p><p>
Once the outer or parent function has been executed, the nested function is
defined and accessible from anywhere within the current program just like any
other function.
</p><p>
You can only execute the parent function once if it contains nested functions;
otherwise, PHP will generate a fatal error.
</p>
<h4>
Filename: nested2.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax8">function</span> <span class="syntax6">outer</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">a</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">b</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   3:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Greetings</span><span class="syntax14"> </span><span class="syntax14">from</span><span class="syntax14"> </span><span class="syntax14">outer</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   4:</span>    
<span class="gutterH">   5:</span>    <span class="syntax8">function</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">x</span><span class="syntax18">)</span> <span class="syntax18">{</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Nested</span><span class="syntax2"> </span><span class="syntax2">function</span>
<span class="gutter">   6:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Greetings</span><span class="syntax14"> </span><span class="syntax14">from</span><span class="syntax14"> </span><span class="syntax14">square</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>      <span class="syntax8">return</span> <span class="syntax10">$</span><span class="syntax10">x</span> <span class="syntax18">*</span> <span class="syntax10">$</span><span class="syntax10">x</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax18">}</span>
<span class="gutter">   9:</span>    <span class="syntax8">return</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">a</span><span class="syntax18">)</span> <span class="syntax18">+</span> <span class="syntax6">square</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">b</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>  <span class="syntax18">}</span>
<span class="gutter">  11:</span>  
<span class="gutter">  12:</span>  <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">=</span> <span class="syntax6">outer</span><span class="syntax18">(</span><span class="syntax5">5</span><span class="syntax18">,</span><span class="syntax5">8</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>  <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">sum</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">squares</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">sum\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Wrong!</span><span class="syntax2"> </span><span class="syntax2">Will</span><span class="syntax2"> </span><span class="syntax2">cause</span><span class="syntax2"> </span><span class="syntax2">square()</span><span class="syntax2"> </span><span class="syntax2">to</span><span class="syntax2"> </span><span class="syntax2">be</span><span class="syntax2"> </span><span class="syntax2">redeclared</span>
<span class="gutterH">  15:</span>  <span class="syntax10">$</span><span class="syntax10">sum</span> <span class="syntax18">=</span> <span class="syntax6">outer</span><span class="syntax18">(</span><span class="syntax5">10</span><span class="syntax18">,</span><span class="syntax5">2</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  16:</span><span class="syntax17">?&gt;</span>
</span>
</PRE>
</div>
</small></blockquote>
</li>
<li><p>
Recursive Functions
</p><p>
A recursive function is a function that calls itself. Recursive functions are
often used to handle certain types of mathematical problems such as:
</p>
<ul>
<li>traverse directories, linked lists, and binary trees</li>
<li>crack passwords</li>
<li>create anagrams, and magic squares</li>
</ul>
<p>
If a task is a smaller version of an original base task, then the problem can
be solved by writing a recursive function.
</p><p>
When you first encounter recursion, it might seem a little confusing, like being
in a house of mirrors. When a function calls itself, the program starts up the
same function again, executes the function statements, and when it returns,
picks up where it left off in the function that called it.
</p><p>
The recursion can go on indefinitely, so you must be careful to create a condition
that, at some point, stops it.
</p><p>
An example often used to describe recursion can be demonstrated with a function
to produce a Fibonacci number (see below).
</p><p>
What is that? Well before getting started, read this little bit of history,
if you have the time or interest.
</p><p>
In the beginnning of the 13th century an Italian mathemetician,
Leonardo Fibonacci, came up with a formula, called the Fibonacci sequence,
to solve the following problem presented at a mathematical competition in Pisa:
</p>
<blockquote>
How many rabbits would be produced in a year if, beginning with a single pair
of rabbits, every month each pair reproduces a new pair of rabbits, which 
become productive when they are one month old, and none of them die, and so on?
</blockquote>
<p>
Fibonacci came up with a formula, named after himself, to answer the rabbit
question. The Fibonacci sequence normally starts with 0 and 1, and then
produces the next Fibonacci number by adding the two previous Fibonacci numbers
together: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597,
2584, 4181, 6765, 10946 . . .
</p><p>
Thus, to get the next value after 21, add 13 to 21 resulting in the next
Fibonacci number, which is 34.
</p><p>
So the number of pairs of rabbits at the start of each month is 1, 1, 2, 3, 5, 8,
13, 21, 34, and so on.
</p>
<h4>
Filename: recursion.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Fibonacci Series<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span>  <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;div</span><span class="syntax17"> </span><span class="syntax17">align</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">center</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    
<span class="gutterH">  10:</span>    <span class="syntax8">function</span> <span class="syntax6">fib</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>      <span class="syntax1">/*</span><span class="syntax1"> </span><span class="syntax1">Find</span><span class="syntax1"> </span><span class="syntax1">the</span><span class="syntax1"> </span><span class="syntax1">Fibonacci</span><span class="syntax1"> </span><span class="syntax1">value</span><span class="syntax1"> </span><span class="syntax1">of</span><span class="syntax1"> </span><span class="syntax1">a</span><span class="syntax1"> </span><span class="syntax1">number</span><span class="syntax1"> </span><span class="syntax1">*/</span>
<span class="gutter">  12:</span>      <span class="syntax8">global</span> <span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>      <span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>      <span class="syntax8">switch</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  15:</span>        <span class="syntax8">case</span> <span class="syntax5">0</span><span class="syntax18">:</span>
<span class="gutter">  16:</span>          <span class="syntax8">return</span><span class="syntax18">(</span><span class="syntax5">0</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>          <span class="syntax8">break</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>        <span class="syntax8">case</span> <span class="syntax5">1</span><span class="syntax18">:</span>
<span class="gutter">  19:</span>          <span class="syntax8">return</span><span class="syntax18">(</span><span class="syntax5">1</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>          <span class="syntax8">break</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>        <span class="syntax8">default</span><span class="syntax18">:</span>  <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Including</span><span class="syntax2"> </span><span class="syntax2">recursive</span><span class="syntax2"> </span><span class="syntax2">calls</span>
<span class="gutter">  22:</span>          <span class="syntax8">return</span><span class="syntax18">(</span><span class="syntax6">fib</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span> <span class="syntax18">-</span> <span class="syntax5">1</span><span class="syntax18">)</span> <span class="syntax18">+</span> <span class="syntax6">fib</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span> <span class="syntax18">-</span> <span class="syntax5">2</span><span class="syntax18">)</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>          <span class="syntax8">break</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>      <span class="syntax18">}</span>
<span class="gutterH">  25:</span>    <span class="syntax18">}</span>
<span class="gutter">  26:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  27:</span>  <span class="syntax17">&lt;table</span><span class="syntax17"> </span><span class="syntax17">border</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">cellspacing</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">2</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">cellpadding</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">5</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  28:</span>  <span class="syntax17">&lt;caption</span><span class="syntax17">&gt;</span>Fibonacci Sequence<span class="syntax17">&lt;/caption</span><span class="syntax17">&gt;</span>
<span class="gutter">  29:</span>  <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span>
<span class="gutterH">  30:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  31:</span>    <span class="syntax8">for</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span><span class="syntax18">=</span><span class="syntax5">0</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">num</span> <span class="syntax18">&lt;</span> <span class="syntax5">10</span><span class="syntax18">;</span> <span class="syntax10">$</span><span class="syntax10">num</span><span class="syntax18">+</span><span class="syntax18">+</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  32:</span>      <span class="syntax10">$</span><span class="syntax10">value</span> <span class="syntax18">=</span> <span class="syntax6">fib</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">num</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  33:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">The</span><span class="syntax2"> </span><span class="syntax2">Fibonacci</span><span class="syntax2"> </span><span class="syntax2">sequence</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">9</span><span class="syntax2"> </span><span class="syntax2">numbers</span><span class="syntax2"> </span><span class="syntax2">starting</span><span class="syntax2"> </span><span class="syntax2">at</span><span class="syntax2"> </span><span class="syntax2">0</span>
<span class="gutter">  34:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">td</span><span class="syntax14"> </span><span class="syntax14">bgcolor</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax14">#</span><span class="syntax14">33FF66</span><span class="syntax14">'</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">value</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">td</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  35:</span>    <span class="syntax18">}</span>
<span class="gutter">  36:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  37:</span>  <span class="syntax17">&lt;tr</span><span class="syntax17">&gt;</span>
<span class="gutter">  38:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  39:</span>  <span class="syntax17">&lt;/table</span><span class="syntax17">&gt;</span>
<span class="gutterH">  40:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  41:</span>  The function called itself <span class="syntax17">&lt;?php</span> <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">count</span><span class="syntax18">;</span> <span class="syntax17">?&gt;</span> times.<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  42:</span>  <span class="syntax17">&lt;/div</span><span class="syntax17">&gt;</span>
<span class="gutter">  43:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  44:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span>
<span class="gutterH">  45:</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The variable $count is initialized outside the function. It will keep track of
the number of times the function <b>fib()</b> is called.
</p><p>
Starting on line 10 is the recursive function fib().
This function starts the initial task and in itself is not recursive.
When the same task needs to be repeated, that is when fib() will call itself.
</p><p>
The switch statement is used to check for the incoming values of a number $num.
If $num is 0, the value returned will be 0, and if it is 1 the value returned is
0 + 1, or 1.
</p><p>
Because these cases are so simple there is no need for recursion. If the number
is greater than 1, then the default case is entered.
</p><p>
This is the heart of the recursive program. The result of the first call to the
fib() function is added to the result of another call to fib().
</p><p>
The function will continue to call itself until it reaches a point where it either
returns 0 or 1. If $num is 4, then fib() is called 9 times.
</p><p>
The for loop starting on line 31 will iterate through 10 numbers, starting at 0.
Each number will be sent, in turn, to the fib() function for evaluation.
</p><p>
We display $count to show you how many times the function fib() was called to
produce the sequence shown.
</p></li>
<li><p>
Function Libraries  Requiring and Including
</p><p>
If you have a function or set of functions that you will reuse in other PHP
programs, then you can save the functions in a file, called a library.
</p><p>
When you are ready to use the functions, just include the library in the current
script with the <b>include()</b> or <b>require()</b> built-in functions.
</p><p>
Suppose, for example, you have two functions: one called <b>total()</b> to
calculate the total of a set of numbers, and another called <b>ave()</b> to
calculate the average of a set of numbers.
</p><p>
We will store these user-defined functions in a library file called
<b>mylibrary.php</b> .
</p></li>
<li><p>
The require() and include() Constructs
</p><p>
PHP provides the <b>require()</b> and <b>include()</b> constructs to allow you
to use the functions from the library file in a PHP script as shown here:
</p><p>
Examples:
</p>
<blockquote><code><small>
&lt;?php<br>
&nbsp;&nbsp;require("mylibrary.php");<br>
&nbsp;&nbsp;echo "The average is ", ave(array(11,3,5,7,34));<br>
?&gt;<br><br>
&lt;?php
&nbsp;&nbsp;include("mylibrary.php");<br>
&nbsp;&nbsp;echo "The average is ", ave(array(11,3,5,7,34));<br>
?&gt;<br>
</small></code></blockquote>
<p>
The include() and require() constructs cause a specified file to be included
and evaluated in your script, similar to pasting the contents of a file in your
script at the line where they were requested.
</p><p>
When you place a function in an external file that will later be included,
be sure to enclose the function in PHP tags, because, when a file is included,
if the PHP tags are missing, PHP automatically starts processing the included
file as an HTML document.
</p><p>
The only difference between include() and require() is how they deal with failure.
</p><p>
The include() function produces a warning and allows the script to continue
executing while require() produces a fatal error.
</p><p>
For PHP to find the file you want to include, it searches an <b>include_path</b>
defined in the <b>php.ini</b> file, and if the file is not in the path,
this would cause an error.
</p><p>
Files for including are first looked for in the include_path relative to the
current working directory and then in the include_path relative to the directory
of the current script.
</p><p>
If the filename specified begins with "./" or "../", it is looked for only in the
include_path relative to the current working directory.
</p><p>
To change the include_path from your program, use the built-in <b>ini_set()</b>
function described in the PHP manual.
</p><p>
With require() the missing file would cause the script to exit, whereas with
include(), the program will continue to run.
</p><p>
You can also use an absolute path such as: <b>require('C:\pub\library\file.php')</b>
or <b>include('/usr/htdocs/file.php')</b>
</p><p>
Just like require() and include(), the require_once() and include_once()
statements, respectively, include and evaluate the specified file during the
execution of the script, but require_once() and include_once() will only include
a file once, even if you have more require or include statements throughout the script.
</p><p>
Include files are often used to help manage the content of a Web site.
The files are external to the program and included as needed.
</p>
<h4>
Filename: include.php
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Including a file<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">color</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">red</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax8">require_once</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">test</span><span class="syntax14">.</span><span class="syntax14">library</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax6">welcome</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  12:</span>  <span class="syntax17">&lt;hr</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  14:</span>    <span class="syntax10">$</span><span class="syntax10">color</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">blue</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax6">welcome</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>    <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">mood</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">color</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
<h4>
Filename: test.library
</h4>
<blockquote><small>
<div class="disp2">
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;?php</span>
<span class="gutter">   2:</span>  <span class="syntax10">$</span><span class="syntax10">color</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">purple</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   3:</span>  <span class="syntax8">function</span> <span class="syntax6">welcome</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">   4:</span>    <span class="syntax8">global</span> <span class="syntax10">$</span><span class="syntax10">color</span><span class="syntax18">;</span>
<span class="gutterH">   5:</span>    <span class="syntax10">$</span><span class="syntax10">mood</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">marvelous</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   6:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Welcome</span><span class="syntax14"> </span><span class="syntax14">to</span><span class="syntax14"> </span><span class="syntax14">you</span><span class="syntax14">!</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   7:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">font</span><span class="syntax14"> </span><span class="syntax14">color</span><span class="syntax14">=</span><span class="syntax10">$</span><span class="syntax10">color</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">What</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">mood</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">color</span>
<span class="gutter">   8:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">sky</span><span class="syntax14">!</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">font</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>  <span class="syntax18">}</span>
<span class="gutterH">  10:</span><span class="syntax17">?&gt;</span></span>
</PRE>
</div>
</small></blockquote>
<p>
The <b>require_once()</b> function includes a file given as its argument.
At the point this file is loaded, all variables and functions in it are available
to this program.
</p><p>
The require_once() function only loads the file once, so that if in the future
another require() function is executed, it will not be included again.
</p><p>
The user-defined function <b>welcome()</b> is called on line 10. Its definition
is in the included file.
</p><p>
The color of the font will be purple because the variable, $color, is assigned
"purple" in the required file.
</p><p>
The user-defined function welcome() is called again. This time the color of the
text will be "blue". The function defined a global variable, $color. It gets the
value of $color as defined outside the function.
</p><p>
The included file contains PHP code. Remember, if you do not enclose the code
of the included file with PHP tags, when PHP starts processing, it will treat
the code as though it were an HTML document, causing an error.
</p><p>
When a file is required, the variables defined within it become part of the
current PHP script. Notice that when the welcome() function is called, the color
of the text is purple, not red, because the required file redefined $color,
overwriting the definition in the main script.
</p>
</li>
</ul>
</div>
</body>
</html>

