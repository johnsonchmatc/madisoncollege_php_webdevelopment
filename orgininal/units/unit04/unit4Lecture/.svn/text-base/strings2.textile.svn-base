h2.  String Manipulation Functions You Should Know



h3. Finding Similarities in Strings

* The string comparison functions previously discussed perform alphanumeric string comparisons, but what if we want to see if one string sounds or is pronounced like another or how and where the text differs in two strings?
* PHP provides a set of functions to find similarities or differences in strings. These functions might be useful for programs that check spelling, perform database searches, or any advanced text processing.

h3.  The @soundex()@ and @metaphone()@ Functions (Phonic Similarity)

* Phonic similarity bases its comparison on whether or not two strings are homophones, that is, they sound alike.
* Words such as "genes" and "jeans" or "morning" and "mourning" are homophones.
* The *@soundex()@* and *@metaphone()@* functions take a string as an argument, and return a key. Soundex keys are short alphanumeric representations of a word's English pronounciation that can be used to compare the sound in strings.
* If the keys are the same, then the words sound the same in English. After testing different words, you will see that these functions base their comparison on American English pronounciation rather than British English.
* For example, "father" and "farther" do not sound the same in America, nor do "source" and "sauce," or "tuba" and "tuber."
* The only obvious difference between the two functions is that *@metaphone()@* is more precise in determining which words have the same pronunciation.
* The examples here demonstrate how to use the *@soundex()@* and *@metaphone()@* functions.
* Format:
<br /><pre>
string soundex ( string str )
string metaphone ( string str [, int phones] )
</pre>
* Example:
<br /><pre>
$key1=soundex("bored");
$key2=soundex("board");
if ( $key1 == $key2 ) {
  echo "The strings sound alike<br />";
}
</pre>
* Filename: *soundex.php*
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Words that Sound the Same<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">sound1</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">bald</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">sound2</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">bawled</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">key1</span><span class="syntax18">=</span><span class="syntax9">soundex</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">sound1</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">key2</span><span class="syntax18">=</span><span class="syntax9">soundex</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">sound2</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax10">$</span><span class="syntax10">key1</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">key2</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  13:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">key</span><span class="syntax14"> </span><span class="syntax14">values</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">key1</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">key2</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound1\&quot;</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound2\&quot;</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14"> </span><span class="syntax14">homophones</span><span class="syntax14">.</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>    <span class="syntax10">$</span><span class="syntax10">sound1</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">tuba</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>    <span class="syntax10">$</span><span class="syntax10">sound2</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">tuber</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax9">metaphone</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">sound1</span><span class="syntax18">)</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax9">metaphone</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">sound2</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  19:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound1\&quot;</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound2\&quot;</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14"> </span><span class="syntax14">homonyms</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>    <span class="syntax18">}</span>
<span class="gutter">  21:</span>    <span class="syntax8">else</span><span class="syntax18">{</span>
<span class="gutter">  22:</span>      <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound1\&quot;</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">\&quot;</span><span class="syntax10">$</span><span class="syntax10">sound2\&quot;</span><span class="syntax14"> </span><span class="syntax14">do</span><span class="syntax14"> </span><span class="syntax14">not</span><span class="syntax14"> </span><span class="syntax14">sound</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">same</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>    <span class="syntax18">}</span>
<span class="gutter">  24:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  25:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  27:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The two variables, *@$string1@* and *@$string2@*, are assigned strings whose values sound the same, called homophones.
* The keys produced by the *@soundex()@* function are shown in the output. They are four character strings, which can be compared.
* The keys returned from the *@metaphone()@* function are more precise in dealing with English pronunciation.
* The *@similar_text()@* and *@levenshtein()@* Functions (Textual Similarity)
* PHP provides two functions to test the similarity between the text in two strings. They are the *@similar_text()@* and the *@levenshtein()@* functions.
* The *@similar_text()@* function calculates the similarity of two strings and returns the number of characters that are the same, allowing for additions, subtraction, and repetition.
* It also takes an optional third parameter, containing a value that represents the percentage of similarity between the strings.
* The following examples demonstrate how the *@similar_text()@* function is used.
* Format:
<br /><pre>
int similar_text ( string first, string second [, float percent] )
</pre>
* Example:
<br /><pre>
$number_same = similar_text($a, $b, $percent);
</pre>
* Filename: *similar.php*
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Text that is Similar<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">string1</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Once</span><span class="syntax14"> </span><span class="syntax14">upon</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">time</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">there</span><span class="syntax14"> </span><span class="syntax14">were</span><span class="syntax14"> </span><span class="syntax14">three</span><span class="syntax14"> </span><span class="syntax14">little</span><span class="syntax14"> </span><span class="syntax14">pigs</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">string2</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Once</span><span class="syntax14"> </span><span class="syntax14">upon</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">time</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">there</span><span class="syntax14"> </span><span class="syntax14">were</span><span class="syntax14"> </span><span class="syntax14">three</span><span class="syntax14"> </span><span class="syntax14">bears</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">First</span><span class="syntax14"> </span><span class="syntax14">string</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">string1</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Second</span><span class="syntax14"> </span><span class="syntax14">string</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">string2</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax10">$</span><span class="syntax10">number</span> <span class="syntax18">=</span> <span class="syntax9">similar_text</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">string1</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">string2</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">percent</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">There</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">number</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">same</span><span class="syntax14"> </span><span class="syntax14">characters</span><span class="syntax14"> </span><span class="syntax14">&quot;</span>
<span class="gutter">  14:</span>         <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">in</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">two</span><span class="syntax14"> </span><span class="syntax14">strings</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">strings</span><span class="syntax14"> </span><span class="syntax14">are</span><span class="syntax14"> </span><span class="syntax14">similar</span><span class="syntax14"> </span><span class="syntax14">by</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">.</span> <span class="syntax9">number_format</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">percent</span><span class="syntax18">,</span> <span class="syntax5">0</span><span class="syntax18">)</span>
<span class="gutter">  16:</span>        <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">%</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@similar_text()@* function returns the number of characters that are the same and a value indicating the percentage of the alikeness of the two strings.
* The *@levenshtein()@* function is used to find the Levenshtein distance (also called the edit distance) between two strings. The strings cannot be longer than 255 characters.
* Levenshtein distance is named after the Russian scientist Vladimir Levenshtein, who wrote the algorithm in 1965.
* Suppose you have two strings and you want to know how you could edit one of the strings to make it just like the other string. (If you have ever used the UNIX diff command, it will give you this kind of information.)
* The Levenshtein distance is defined as the fewest number of insertions, substitutions, and deletions required to transform one string into another string. (The function is not case sensitive.)
* The greater the Levenshtein distance, the more different the strings are. If the distance is 0, the strings are the same. See the example below.
* Format:
<br /><pre>
int levenshtein ( string str1, string str2 [, int cost_ins
                [, int cost_rep, int cost_del]] )
</pre>
* Example:
<br /><pre>
   $diff = levenshtein($string1, $string2);
   $diff = levenshtein($string1, $string2, 100, 5, 1);
</pre>
* Filename: *levenshtein.php*
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Text that is Similar<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">string1</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">I</span><span class="syntax14"> </span><span class="syntax14">attended</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">funeral</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">string2</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">He</span><span class="syntax14"> </span><span class="syntax14">attended</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">fun</span><span class="syntax14"> </span><span class="syntax14">rally</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">First</span><span class="syntax14"> </span><span class="syntax14">string</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">string1</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Second</span><span class="syntax14"> </span><span class="syntax14">string</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">string2</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">distance</span> <span class="syntax18">=</span> <span class="syntax9">levenshtein</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">string1</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">string2</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">It</span><span class="syntax14"> </span><span class="syntax14">would</span><span class="syntax14"> </span><span class="syntax14">take</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">distance</span><span class="syntax14"> </span><span class="syntax14">changes</span><span class="syntax14"> </span><span class="syntax14">to</span><span class="syntax14"> </span><span class="syntax14">&quot;</span>
<span class="gutter">  13:</span>         <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">transform</span><span class="syntax14"> </span><span class="syntax14">string1</span><span class="syntax14"> </span><span class="syntax14">into</span><span class="syntax14"> </span><span class="syntax14">string2</span><span class="syntax14">.</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The two strings have many characters in common. What would it take to transform the first string into the second?
* The *@levenshtein()@* function will figure out the minimum number of insertions, deletions, or substitutions it would take to transform the first string into the second.
* In this example, the first change would be "I". It would take two substitutions to change it to "He". The next change would be to replace the "e" in funeral with a space (three changes so far), then to add the "ly" in rally, two more changes, making a total of five.
* The *@levenshtein()@* function includes the first two strings and three additional parameters that define the cost of insert, substitute, and delete operations.
* This allows you to specify how you want scores weighted with numeric values. Otherwise, all scores are given equal weight. The weight or cost indicates what steps should be taken to make the strings similar.

h3. Splitting a String

* PHP provides a number of functions to split strings. The *@split()@* and *@spliti()@* functions split up a string and return an array.
* The *@explode()@* function splits up a string by a specified delimiter and returns an array. The *@implode()@* function takes an array and joins the elements together to form a string.
* Because these functions require that you understand PHP arrays and regular expressions, they will be covered later in the course.
* The table below provides the names of these functions, what they do, and where to find a complete discussion and examples.
* Table:. PHP Functions for Splitting Strings

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Function*|{background:#ccc}.*What_It_Does*|
|split()       |Splits up a string into words using a regular<br />expression (see Unit 10)|
|spliti()      |Same as the split() function, but case-insensitive<br />regular expression (see Unit 10)|
|str_split()   |Converts a string into an array where the size of<br />the elements can be specified (see Unit 5)|
|preg_split()  |Splits up a string by a Perl-compatible regular<br />expression and returns an array of substrings (see Unit 10)|
|explode()     |Splits up a string by another string (not a<br />regular expression) and returns an array (see Unit 5)|
|implode()     |Joins array elements together by a string and<br />returns a string (see Unit 5)|

h3. The strtok() Function

* The *@strtok()@* function splits a string into smaller strings called tokens.
* Tokens are created by choosing a character(s) that will be used as a string delimiter. Most tokens are words delimited by spaces, as in any typical sentence.
* For example, "I love you." is a space-delimited string consisting of three tokens.
* The first time you call *@strtok()@*, you use two arguments: the string (the str argument) that will be tokenized, and the delimiters you will use as separators (the token argument). The first tokenized string will be returned.
* The next time you call the function, you don't use the string argument because *@strtok()@* keeps track of where it is in the string, token by token until it reaches the end of the string.
* If you want to start tokenizing over again, then you will use both the string and its delimiters to initialize the process.
* This function might return boolean FALSE, but might also return a non-boolean value that evaluates to FALSE, such as 0 or "".
* The following examples demonstrate how to use the *@strtok()@* function to split up a string.
* Format:
<br /><pre>
string strtok ( string str, string token )
</pre>
* Example:
<br /><pre>
$piece1 = strtok("/usr/local/bin", "/"); // Returns: usr
$piece2 = strtok ("/"); // Returns: local
$piece3 = strtok ("/"); // Returns: bin
</pre>
* Filename: *tokens.php*
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The str_tok() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span><span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Splitting a String into Tokens<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">string</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Joe</span><span class="syntax14"> </span><span class="syntax14">Shmoe</span><span class="syntax14">:</span><span class="syntax14">3</span><span class="syntax14">/</span><span class="syntax14">15</span><span class="syntax14">/</span><span class="syntax14">56</span><span class="syntax14">:</span><span class="syntax14">Boston</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">MA</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">delimiters</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">:</span><span class="syntax14">,</span><span class="syntax14">/</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">token</span> <span class="syntax18">=</span> <span class="syntax9">strtok</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">string</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">delimiters</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">=</span><span class="syntax5">1</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">while</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">token</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  12:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Token</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&lt;</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">token</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>      <span class="syntax10">$</span><span class="syntax10">token</span><span class="syntax18">=</span><span class="syntax9">strtok</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">delimiters</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>      <span class="syntax10">$</span><span class="syntax10">n</span><span class="syntax18">++</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  17:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* On line 7, a string is created containing some characters that will be used as delimiters; that is, where we will divide the string into words or tokens.
* On line 8, a variable is assigned a string containing four characters: the colon, comma, slash, and space.
* The *@strtok()@* function will split up the string based on the delimiters it is given. It will return the first word (token) it finds, in this case, Joe.
* Because the *@strtok()@* function keeps track of where it is in the string as it parses it, and finds one word at a time, the while loop will call the function until there are no more words in the string.
* Inside the while loop, the *@strtok()@* function only has one argument, the list of delimiters.
* The *@$string@* argument is only used the first time the function is called, or when you want to start over.

h3. Repeating a String

* Suppose you want to separate two blocks of text by a row of dashes. PHP provides the *@str_repeat()@* function to repeat a string a specified number of times.
* The first argument is the string that will be repeated and the second argument, called the multiplier, is the number of times you want to repeat it.
* The multiplier must be greater than or equal to zero and if it is zero, an empty string will be returned.
* Format:
<br /><pre>
string str_repeat( string input, int multiplier)
</pre>
* Example:
<pre>
print str_repeat("-", 30); // prints 30 dashes
</pre>

h3. Trimming and Padding Strings

* PHP provides a set of functions that trim and pad strings. Trimming means to remove excess or to prune, as in trimming your hair, your hedges, or your budget.
* You might want to clean up a string by getting rid of excess whitespace (or some other character) from the beginning or end of the string.
* Padding a string is the opposite of trimming it. If you pad your wallet or your shirt, you add more to it.
* To pad a string means to add surrounding characters to either or both sides of the string.

h3.  The "trim" Functions @trim()@, @ltrim()@, @chop()@, @rtrim()@

* The *@trim()@* function strips whitespace (or other characters) from the beginning and end of a string.
* If a third argument is given, called the character list (charlist), you can specify the range of characters you want to remove from the string.
* You can also use the *@trim()@* function to trim array values.
* The *@ltrim()@* and *@rtrim()@* functions work just like *@trim()@*, except *@ltrim()@* only trims the left side of a string and *@rtrim()@* only trims the right side of the string. An alias for *@rtrim()@* is *@chop()@*.
* Without the second parameter, the *@trim()@* function will strip the whitespace characters listed here:
* Table: Whitespace Characters

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Whitespace*<br />*Character*|{background:#ccc}.*ASCII*<br />*Decimal/Hex*|{background:#ccc}.<br />*Meaning*|
|" "         |32 (0x20)      |An ordinary space    |
|"\t"        |9 (0x09)       |A tab                |
|"\n"        |10 (0x0A)      |A newline (line feed)|
|"\r"        |13 (0x0D)      |A carriage return    |
|"\0"        |0 (0x00)       |The NULL-byte        |
|"\x0B"      |11 (0x0B)      |A vertical tab       |

* The examples that follow demonstrate how to use the various *@trim()@* functions.
* Format:
<br /><pre>
string trim ( string str [, string charlist] )
string ltrim ( string str [, string charlist] )
string rtrim ( string str [, string charlist] )
</pre>
* Example 1:
<pre>$trimmed_string= trim( "\t\tHello\n"); // Removes tabs and newline
$trimmed_string=ltrim("\t\tHello\n"); // Removes two tabs on the left
$trimmed_string=rtrim("\t\tHello\n"); // Removes newline on the right
</pre>
* If you want to specify characters other than whitespace, you can list all characters in the second optional argument, charlist.
* With ".." you can specify a range of characters.
* Example 2:
<br /><pre>
// Removes all asterisks
$trimmed_string = trim("****Hello*****", "*");
// Removes asterisks on the left
$trimmed_string = ltrim("****Hello*****", "*");
// Removes asterisks on the right
$trimmed_string = rtrim("****Hello*****", "*");
</pre>
* Filename: *trim.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The trim() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Trimming a String<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;b</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">\x20\x0a\t\tCutting</span><span class="syntax14"> </span><span class="syntax14">away</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">excess</span><span class="syntax14"> </span><span class="syntax14">whitespace</span><span class="syntax14">!</span><span class="syntax14">\n\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">pre</span><span class="syntax14">&gt;</span><span class="syntax14">Original</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax9">trim</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">pre</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">hr</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Cutting</span><span class="syntax14"> </span><span class="syntax14">away</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">excess</span><span class="syntax14"> </span><span class="syntax14">dots</span><span class="syntax14">!</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Original</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax9">rtrim</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;/b</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* A string is created with leading whitespace represented by hexadecimal characters for a space, a newline, and two tabs. It ends with two newlines.
* The &lt;pre&gt; tags are used so that the whitespace characters will be displayed.
* By default, *@trim()@* removes whitespace (tabs, newlines, spaces) from both ends of a string.
* The second string contains three dots on the right-hand side. The *@rtrim()@* function removes characters from the right-hand side of the sting only.

h3. The @str_pad()@ Function

* To pad a string means to lengthen it by adding a specified number of characters to the string.
* PHP provides the *@str_pad()@* function to pad strings; the default is to pad with spaces on the right side of the string.
* The first argument is the string to be padded, the second argument, pad_length, is the width of the string with the padding characters. If a third argument is provided, you can specify whether the padding will occur on the left, right, or both sides of the string. The fourth argument, pad_type, represents the character that will be used for padding.
* Table: Padding Types

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Function*|{background:#ccc}.*What_It_Does*|
|@STR_PAD_RIGHT@  |Pad to the right, the default.|
|@STR_PAD_LEFT@   |Pad to the left.              |
|@STR_PAD_BOTH@   |Pad both ends of the string.  |

* The following examples demonstrate how to use the *@str_pad()@* function.
* Format:
<br /><pre>
string str_pad ( string input, int pad_length [, string pad_string [,
                 int pad_type]] )
</pre>
* Example:
<br /><pre>
$string = "Testing";
echo str_pad($string, 15);
echo str_pad ($string, 15, STR_PAD_BOTH);
echo str_pad($string, 15, STR_PAD_BOTH, "=_");
</pre>
* Filename: *strpad.php* 
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The str_pad() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Padding a String<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Elvis</span><span class="syntax14"> </span><span class="syntax14">Presley</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">prof</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Singer</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;pre&gt;&lt;b&gt;</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax9">str_pad</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Name</span><span class="syntax14">:</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">15</span><span class="syntax18">)</span> <span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">name</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&quot;</span> <span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">echo</span> <span class="syntax9">str_pad</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Profession</span><span class="syntax14">:</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">15</span><span class="syntax18">)</span> <span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">prof</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">\n\n</span><span class="syntax14">&quot;</span> <span class="syntax18">;</span>
<span class="gutter">  13:</span>
<span class="gutter">  14:</span>    <span class="syntax10">$</span><span class="syntax10">string</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Table</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">Contents</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax8">echo</span> <span class="syntax9">str_pad</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">string</span><span class="syntax18">,</span> <span class="syntax5">25</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">-</span><span class="syntax14">=</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> STR_PAD_BOTH<span class="syntax18">)</span><span class="syntax18">,</span>
<span class="gutter">  16:</span>         <span class="syntax14">&quot;</span><span class="syntax14">\n</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">b</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">pre</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@str_pad()@* function, by default, pads the string (its first argument) by spaces to the right, in this case creating a 15-space field.
* In this example, $name and $prof are concatenated to the padded strings, "Name:" and "Profession:".
* On line 15, the third and fourth arguments to *@str_pad()@* are used to pad the string on both the left and right with the chosen characters.

h3. Search and Replace

* Searching and replacing text is a function you use commonly in a text editor.
* PHP provides a set of functions to search for a string and replace it with a new one.
* If you are trying to fine-tune your search pattern (e.g., search for all strings starting with a number or a lowercase letter), you have the option to use regular expressions.
* The *@str_replace()@* function discussed here can be summarized as, "Search for a string within some text and replace it with another string."
* The *@str_replace()@* and *@str_ireplace()@* Functions
* The *@str_replace()@* function replaces all occurrences of the search string with the replacement string. It returns a string (or an array) with the replacements wherever the search string was found.
* If the third argument is specified, then *@str_replace()@* will return the number of times it found the searched for string.
* The only difference between *@str_replace()@* and *@str_ireplace()@* is that *@str_ireplace()@* is not case sensitive.
* The examples below demonstrate how to use the *@str_replace()@* function.
* Format:
<br /><pre>
mixed str_replace( mixed search, mixed replace, mixed subject [,
                   int &count] )
mixed str_ireplace ( mixed search, mixed replace, mixed subject [,
                     int &count] )
</pre>
* Example:
<br /><pre>
// Returns: "Better to have loved once..."
$newstring=str_replace("hate", "love", "Better to have hated once..."
$newstring=str_replace("no", "yes", "No, no, no, a million times no.",
                        $howmany);
$newstring=str_ireplace("no", "yes", "No, no, no, a million times
                         no.", $howmany);
</pre>
* Filename: *replace.php*
<PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Search and Replace<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">Icecream</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">good</span><span class="syntax13"> </span><span class="syntax13">for</span><span class="syntax13"> </span><span class="syntax13">you.</span><span class="syntax13"> </span><span class="syntax13">You</span><span class="syntax13"> </span><span class="syntax13">should</span><span class="syntax13"> </span><span class="syntax13">eat</span><span class="syntax13"> </span><span class="syntax13">icecream</span>
<span class="gutter">   8:</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">daily.</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">str_replace</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">icecream</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">broccoli</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">original:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">modified:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  13:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@str_replace()@* function replaces the first argument, "icecream", with "broccoli" in the string.
* The substring "Icecream" wasn't replaced because the *@str_replace()@* function is case sensitive.
* The *@str_ireplace()@* function is just like the *@str_replace()@* function except that it is not case sensitive when searching for a string. The following example demonstrates how to use the *@str_ireplace()@* function.
* Filename: *ireplace.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The str_ireplace() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Case Insensitive Search and Replace<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">Icecream</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">good</span><span class="syntax13"> </span><span class="syntax13">for</span><span class="syntax13"> </span><span class="syntax13">you.</span><span class="syntax13"> </span><span class="syntax13">You</span><span class="syntax13"> </span><span class="syntax13">should</span><span class="syntax13"> </span><span class="syntax13">eat</span><span class="syntax13"> </span><span class="syntax13">icecream</span>
<span class="gutterH">  10:</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">daily.</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">str_ireplace</span><span class="syntax18">(</span><span class="syntax13">'</span><span class="syntax13">icecream</span><span class="syntax13">'</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">broccoli</span><span class="syntax13">'</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">original:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Not</span><span class="syntax2"> </span><span class="syntax2">exactly</span><span class="syntax2"> </span><span class="syntax2">what</span><span class="syntax2"> </span><span class="syntax2">we</span><span class="syntax2"> </span><span class="syntax2">want</span>
<span class="gutter">  14:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">modified:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Capitalize</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">first</span><span class="syntax2"> </span><span class="syntax2">character</span>
<span class="gutter">  16:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">capitalized:</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax9">ucfirst</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@str_ireplace()@* function is case insensitive. It searches in the string assigned to $text, for "icecream" or "Icecream" or "ICECReam", and so on, and replaces it with "broccoli".
* In the modified string, both "Icecream" and "icecream" become broccoli.
* Problem: The first letter in the first occurrence of "broccoli" should be a capital "B". To correct this problem, we use the *@ucfirst()@* function to uppercase the first letter in broccoli at the beginning of the string.
* Another way we can use *@str_replace()@* is to replace multiple strings all at the same time. Since PHP 4.0.5 all parameters of *@str_replace()@* can also be strings.
* Filename: *replacemulti.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Search and Replace with Arrays<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   7:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">I</span><span class="syntax14"> </span><span class="syntax14">love</span><span class="syntax14"> </span><span class="syntax14">pizza</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">beer</span><span class="syntax14">!</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">   8:</span>    <span class="syntax10">$</span><span class="syntax10">search</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">love</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">pizza</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">beer</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">replace</span> <span class="syntax18">=</span> <span class="syntax8">array</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">hate</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">fruits</span><span class="syntax14">&quot;</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">vegetables</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">str_ireplace</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">search</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">replace</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">original</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  14:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@str_ireplace()@* function matches elements of the $search array and replaces them with corresponding elements of the *@$replace@* array.

h3. Finding a Position in a String

* Finding a position of a character in a string is often an auxiliary task.
* For example, if we wanted to find out the user name and the domain name of a user based on his or her email address, we would look for the position of the "@" character in the email address.
* The string to the left of it would be the user name, and the string to the right of it would be the domain name.
* The *@strpos()@* Function
* The *@strpos()@* function returns the position of the first case-sensitive occurrence of a character or substring within a string.
* This may also be called the index position of the substring starting at offset 0, meaning you start counting characters from the left side of the string, starting at character 0, until you reach the beginning of the target character or string. If nothing is found, boolean false is returned.
* If the third, optional argument (a number) is used, the *@strpos()@* function will start searching from that character position (rather than offset 0), but counts characters from the beginning of the string.
* These examples demonstrate use of the *@strpos()@* function to find the occurrence of a character or substring in a string.
* Format:
<br /><pre>
int strpos ( string , substring [, int offset] )
</pre>
* Example:
<br /><pre>
// $offset is 2
$offset = ("a needle in a haystack", "needle");
// start looking after character 1, returns 5
$offset=("big, bigger, biggest", "big", 1);
</pre>
* Filename: *strpos.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The strpos() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lightgreen</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Finding the Index Position of a Substring<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">email</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">joe</span><span class="syntax14">@</span><span class="syntax14">yahoo</span><span class="syntax14">.</span><span class="syntax14">com</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">position_of_at_symbol</span> <span class="syntax18">=</span> <span class="syntax9">strpos</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">email</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">@</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">starting</span><span class="syntax14"> </span><span class="syntax14">position</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">the</span><span class="syntax14"> </span><span class="syntax14">'</span><span class="syntax14">@</span><span class="syntax14">'</span><span class="syntax14"> </span><span class="syntax14">symbol</span><span class="syntax14"> </span><span class="syntax14">in</span>
<span class="gutter">  12:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&lt;</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">email</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">position_of_at_symbol</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax10">$</span><span class="syntax10">position_of_dot_symbol</span> <span class="syntax18">=</span> <span class="syntax9">strpos</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">email</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">.com</span><span class="syntax13">'</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">starting</span><span class="syntax14"> </span><span class="syntax14">position</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">'</span><span class="syntax14">.</span><span class="syntax14">com</span><span class="syntax14">'</span><span class="syntax14"> </span><span class="syntax14">in</span><span class="syntax14"> </span><span class="syntax14">&lt;</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax10">$</span><span class="syntax10">email</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">:</span>
<span class="gutterH">  15:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">position_of_dot_symbol</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  17:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* On line 10, the *@strpos()@* function returns the index position of the '@' sybmol in the $email string. The first position in the string starts at the index of 0.
* On line 13, the *@strpos()@* function returns the index position of the substring '.com'.

h3. The @strrpos()@ and @strripos()@ Functions

* The *@strrpos()@* function returns the position of the last occurrence of a character in a string. You can think of the second "r" in the function name, as meaning "rightmost" position.
* The *@strripos()@* function does the same thing, but is not case sensitive.
* Format:
<br /><pre>
int strrpos ( string , character [, int offset] )
int strripos ( string , character [, int offset] )
</pre>
* Example:
<br /><pre>
// finds the position of the last slash
$offset = sttrpos("/usr/local/bin","/");
// finds the position of "beans"
$offset = sttrpos("Boston baked beans",'B');
</pre>

h3. Extracting Pieces of a String -- Substrings

* A substring is a portion of another string; for example, "pie" is a substring of the strings "piece" and "spiel", and "arch" is a substring of both "hierarchy" and "architect".
* If a user were to enter an email address, perhaps you really only wanted to know the the domain name, a substring of the email address, or perhaps you only want the country code for an entered telephone number.
* PHP provides a set of functions specifically designed to extract smaller strings from larger strings. The following table lists the substring functions discussed in this section.
* Table: Substring Functions

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Function*|{background:#ccc}.*What_It_Does*|
|strchr()          |Alias of strstr(). Finds the first occurrence of a character in a string and returns it and all characters to the end of the string.|
|strichr()         |Case-insensitive form of strstr().                                                                                                  |
|strrchr()         |Finds last occurrence of a character in a string and returns it and all characters to the end of the string.                        |
|substr()          |Returns part of a string, specified by a start position and length.                                                                 |
|substr_replace()  |Returns a string, replaced with part of another string.                                                                             |
|substr_count()    |Counts the number of times a substring is found in a string.                                                                        |

h3. The @strchr()@, @strrchr()@, and @strichr()@ Functions

* The *@strchr()@* function searches for a character starting at the left side of the string and returns all the characters from that character to the end of the string.
* The first argument is the original string (called the haystack) and the second argument (called the needle) is the starting character of the substring within the string.
* All the characters after the needle including the needle, will be returned. If the needle is not found, the function returns FALSE.
* Format:
<br /><pre>
string strchr ( string haystack, character needle )
</pre>
* Example:
<br /><pre>
echo strchr("debbiejean@somewhere.edu","."); // Returns: .edu
</pre>
* The *@strrchr()@* function searches for a character at the rightmost position in the string, and returns all of the characters from that character to the end of the string. It returns FALSE if the target character is not found.
* The *@strichr()@* function is the same as *@strchr()@* but ignores case when searching for a character.
* The following examples demonstrate how to use the *@strrchr()@* function to find the rightmost substring in a string.
* Format:
<br /><pre>
string strrchr ( string haystack, character needle)
</pre>
* Example:
<br /><pre>
$substring = ("/usr/local/bin","/"); // Returns "/bin"
</pre>
* Filename: *strrchr.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The strrchr Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Searching for a Character<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">=</span><span class="syntax13">'</span><span class="syntax13">15</span><span class="syntax13"> </span><span class="syntax13">Sleepy</span><span class="syntax13"> </span><span class="syntax13">Hollow</span><span class="syntax13"> </span><span class="syntax13">Rd,</span><span class="syntax13"> </span><span class="syntax13">Boston,</span><span class="syntax13"> </span><span class="syntax13">Massachusetts</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax10">$</span><span class="syntax10">address</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">state</span> <span class="syntax18">=</span> <span class="syntax9">strrchr</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">M</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax10">$</span><span class="syntax10">state</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>
<span class="gutter">  14:</span>    <span class="syntax10">$</span><span class="syntax10">path</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">C</span><span class="syntax14">:</span><span class="syntax14">\\Documents</span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">Settings\\Ellie</span><span class="syntax14"> </span><span class="syntax14">Quigley\\My</span><span class="syntax14"> </span><span class="syntax14">Documents</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax8">print</span> <span class="syntax10">$</span><span class="syntax10">path</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>    <span class="syntax8">print</span> <span class="syntax9">strrchr</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">path</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">\\</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
On line 11, the *@strrchr()@* function searches for the character "M" in the address at the rightmost position at which it occurs in the string and returns all the characters from "M" to the end of the string.
On line 16, the *@strrchr()@* function looks for "@\\@" in the string at its rightmost position and prints everything from there to the end of the string.
Two backslashes must be used if we use double quotes around the character to search for, due to interpolation.

h3. The @substr()@ Function

* The *@substr()@* function returns a part of a string, called a substring.
* It takes up to three arguments. The first argument is the original string, the second argument is the offset or starting position of the substring, and the third, optional, argument specifies how many characters are to be extracted.
* If the second argument, starting position, is a positive number, the search for the substring starts from the beginning of the string, position 0.
* If the starting position is a negative number, the search starts at the end of the string at position -1.
* If the third argument is not specified, the substring will consist of all the characters found from where it started until the end of the string.
* If the length specified is negative, then that many characters will be omitted from the end of the substring returned.
* If the length is given and is positive, the string returned will contain at most length characters beginning from the start (depending on the length of string).
* If the string is less than or equal to start characters long, FALSE will be returned.
* These examples demonstrate how to use the *@substr()@* function to retrieve part of a string.
* Format:
<br /><pre>
string substr ( string string, int start [, int length]
</pre>
* Example:
<br /><pre>
$newstring = substr("Happy New Year", 6); // Returns "New Year"
$newstring = substr("Happy New Year", 6, 3) // Returns "New"
$newstring = substr("Happy New Year", -4) // Returns "Year"
</pre>
* Filename: *substr.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The substr() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Extracting Substrings<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;substr(&quot;Happy</span><span class="syntax13"> </span><span class="syntax13">New</span><span class="syntax13"> </span><span class="syntax13">Year&quot;,</span><span class="syntax13"> </span><span class="syntax13">6)&lt;/b&gt;</span><span class="syntax13"> </span><span class="syntax13">produces:</span><span class="syntax13"> </span><span class="syntax13">&lt;em&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax9">substr</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Happy</span><span class="syntax14"> </span><span class="syntax14">New</span><span class="syntax14"> </span><span class="syntax14">Year</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">6</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;substr(&quot;Happy</span><span class="syntax13"> </span><span class="syntax13">New</span><span class="syntax13"> </span><span class="syntax13">Year&quot;,</span><span class="syntax13"> </span><span class="syntax13">6,</span><span class="syntax13"> </span><span class="syntax13">3)&lt;/b&gt;</span><span class="syntax13"> </span><span class="syntax13">produces:</span><span class="syntax13"> </span><span class="syntax13">&lt;em&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">print</span> <span class="syntax9">substr</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Happy</span><span class="syntax14"> </span><span class="syntax14">New</span><span class="syntax14"> </span><span class="syntax14">Year</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">6</span><span class="syntax18">,</span> <span class="syntax5">3</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>
<span class="gutterH">  15:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;substr(&quot;Happy</span><span class="syntax13"> </span><span class="syntax13">New</span><span class="syntax13"> </span><span class="syntax13">Year&quot;,</span><span class="syntax13"> </span><span class="syntax13">-4)&lt;/b&gt;</span><span class="syntax13"> </span><span class="syntax13">produces:</span><span class="syntax13"> </span><span class="syntax13">&lt;em&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  16:</span>    <span class="syntax8">print</span> <span class="syntax9">substr</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Happy</span><span class="syntax14"> </span><span class="syntax14">New</span><span class="syntax14"> </span><span class="syntax14">Year</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax18">-</span><span class="syntax5">4</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>
<span class="gutter">  18:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;substr(&quot;Happy</span><span class="syntax13"> </span><span class="syntax13">New</span><span class="syntax13"> </span><span class="syntax13">Year&quot;,</span><span class="syntax13"> </span><span class="syntax13">-4,</span><span class="syntax13"> </span><span class="syntax13">-1)&lt;/b&gt;</span><span class="syntax13"> </span><span class="syntax13">produces:</span><span class="syntax13"> </span><span class="syntax13">&lt;em&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>    <span class="syntax8">print</span> <span class="syntax9">substr</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Happy</span><span class="syntax14"> </span><span class="syntax14">New</span><span class="syntax14"> </span><span class="syntax14">Year</span><span class="syntax14">&quot;</span><span class="syntax18">,-</span> <span class="syntax5">4</span><span class="syntax18">,-</span> <span class="syntax5">1</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>
<span class="gutter">  21:</span>    <span class="syntax8">print</span> <span class="syntax13">'</span><span class="syntax13">&lt;b&gt;substr(&quot;Happy</span><span class="syntax13"> </span><span class="syntax13">New</span><span class="syntax13"> </span><span class="syntax13">Year&quot;,</span><span class="syntax13"> </span><span class="syntax13">6,</span><span class="syntax13"> </span><span class="syntax13">-2)&lt;/b&gt;</span><span class="syntax13"> </span><span class="syntax13">produces:</span><span class="syntax13"> </span><span class="syntax13">&lt;em&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  22:</span>    <span class="syntax8">print</span> <span class="syntax9">substr</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax14">Happy</span><span class="syntax14"> </span><span class="syntax14">New</span><span class="syntax14"> </span><span class="syntax14">Year</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">6</span><span class="syntax18">,</span> <span class="syntax18">-</span><span class="syntax5">2</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">em</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  24:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  25:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* On line 10, starting from the beginning of the string, at offset 0, the *@substr()@* function counts over 6 characters, which starts the substring at the "N" in the string "Happy New Year".
* On line 13, starting at the beginning of the string, at offset 0, the *@substr()@* function counts over 6 characters. With a length of 3, it returns the substring "New".
* On line 16, starting at the end of the string, with -4 offset, the *@substr()@* function starts at the end of the string and backs up to the "Y" in "Year", and starting there takes characters up to the end of the string.
* On line 19, starting at the end of the string, with -4 as the offset, the *@substr()@* function starts at the end of the string and backs up to the "Y" in "Year". The second argument, -1, tells the function to go to the end of the string and back up by 1 character. The substring returned is "Yea".
* On line 22, starting at the beginning of the string, the *@substr()@* function counts over 6 characters, which starts the substring at the "N". The second argument, -2, tells the function to back up 2 characters from the end of the substring, producing "New Ye".

h3. The @substr_replace()@ Function

* The *@substr_replace()@* function is similar to the *@substr()@* function, but instead of returning a portion of a string, it returns a copy of the original string with a substring replaced by a replacement substring.
* The substring portion is inserted in the string at a given offset and optional length value. (If the first argument is an array, then an array is returned.)
* The *@substr_replace()@* function takes up to four arguments. The first argument is the original string, the second argument is the replacement string, the third argument is the offset or starting position of where the replacement string will be inserted, and the fourth, optional argument can be either a positive or negative number.
* If the third argument, starting position, is a positive number, the search for the substring starts from the beginning of the string, position 0.
* If the starting position is a negative number, the search starts at the end of the string at position -1.
* If the fourth, length, argument is a positive number, it specifies how many characters to overwrite when the substring is inserted in the string.
* For example, if the starting position is 0 and the length is 4, then the first four characters will be replaced.
* A negative length specifies how many characters to exclude when inserting the new substring.
* For example, 2 says to not replace the last two characters in the string. If the length is not given, then the default is the length of the string.
* The default is the equivalent of: *@strlen(string)@*;
* That is, it will replace the entire string with the value of the second argument, the substring.
* The examples below demonstrate how to use the *@substr_replace()@* function to insert a new string into an existing string at a designated position.
* Format:
<br /><pre>
mixed substr_replace ( mixed string, string replacement, int start
                      [, int length] )
</pre>
* Example:
<br /><pre>
// Returns: two jars of jam
echo substr_replace("three jars of jam","two", 0, 5);
// Returns: three jars of jelly
echo substr_replace("three jars of jam","jelly", -3);
// Returns: I made three jars of jam
echo substr_replace("three jars of jam","I made ", 0,0);
// Returns: three jars of plum jam
echo substr_replace("three jars of jam"," plum", -4, -4);
</pre>
* Filename: *strreplace.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The substr_replace() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Replace a Portion of a String<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Tom</span><span class="syntax14"> </span><span class="syntax14">used</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">teaspoon</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">sugar</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Original</span><span class="syntax14"> </span><span class="syntax14">string</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Find</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">starting</span><span class="syntax2"> </span><span class="syntax2">position</span><span class="syntax2"> </span><span class="syntax2">of</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">substring</span>
<span class="gutter">  12:</span>    <span class="syntax10">$</span><span class="syntax10">start</span> <span class="syntax18">=</span> <span class="syntax9">strpos</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">teaspoon</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">substr_replace</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">table</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax10">$</span><span class="syntax10">start</span><span class="syntax18">,</span> <span class="syntax5">3</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">1</span><span class="syntax14">.</span><span class="syntax14"> </span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>
<span class="gutter">  16:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Tom</span><span class="syntax14"> </span><span class="syntax14">used</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">teaspoon</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">sugar</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">substr_replace</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">Peter</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">0</span><span class="syntax18">,</span> <span class="syntax5">3</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">2</span><span class="syntax14">.</span><span class="syntax14"> </span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>
<span class="gutterH">  20:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Tom</span><span class="syntax14"> </span><span class="syntax14">used</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">teaspoon</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">sugar</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">substr_replace</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">Yesterday</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">0</span><span class="syntax18">,</span> <span class="syntax5">0</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  22:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">3</span><span class="syntax14">.</span><span class="syntax14"> </span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>
<span class="gutter">  24:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">Tom</span><span class="syntax14"> </span><span class="syntax14">used</span><span class="syntax14"> </span><span class="syntax14">a</span><span class="syntax14"> </span><span class="syntax14">teaspoon</span><span class="syntax14"> </span><span class="syntax14">of</span><span class="syntax14"> </span><span class="syntax14">sugar</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  25:</span>    <span class="syntax10">$</span><span class="syntax10">modified_text</span> <span class="syntax18">=</span> <span class="syntax9">substr_replace</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">vanilla</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">-6</span><span class="syntax18">,</span> <span class="syntax5">-1</span> <span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  26:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">4</span><span class="syntax14">.</span><span class="syntax14"> </span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">modified_text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  27:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  28:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  29:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* On line 12, we use *@strpos()@* to find the starting position of the substring "teaspoon" in the original string.
* On line 13, the first 3 characters in "teaspoon" will be replaced with "table", making the new substring "tablespoon".
* On line 17, starting at the beginning of the string, replace the first 3 characters, "Tom", with "Peter".
* On line 21, insert at the beginning of the string, the substring "Yesterday, ".
* On line 25, starting 6 characters from the end of the string, -6, replace "sugar" with "vanilla", but don't overwrite the period!

h3. The @substr_count()@ Function

* The *@substr_count()@* function counts and returns the number of times a substring occurs within string. It is case sensitive.
* The first argument, called the haystack, specifies the string that contains the substrings. The second string is the substring that we are looking for. The third, optional argument is the offset where to start counting, and the last, optional argument is the maximum length after the specified offset to search in the substring.
* These examples demonstrate the use of the *@substr_count()@* function.
* Format:
<br /><pre>
int substr_count ( string , substring [, int offset [, int length]] )
</pre>
* Example:
<br /><pre>
$count = ("\t\tCounting tabs\tis fun\t", "\t"); // Returns 4
</pre>
* Filename: *substrcount.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The substr_count() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Counting Substrings<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">One</span><span class="syntax14"> </span><span class="syntax14">little</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">two</span><span class="syntax14"> </span><span class="syntax14">little</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">three</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">little</span><span class="syntax14"> </span><span class="syntax14">Wolfies</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;$text</span><span class="syntax13"> </span><span class="syntax13">=</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax14">&lt;</span><span class="syntax14">/</span><span class="syntax14">p</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;&lt;b&gt;substr_count($text,&quot;little&quot;)</span><span class="syntax13"> </span><span class="syntax13">&lt;/b&gt;counts:</span><span class="syntax13"> </span><span class="syntax13">'</span> <span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">echo</span> <span class="syntax9">substr_count</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">little</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;p&gt;&lt;b&gt;substr_count($text,&quot;little&quot;,</span><span class="syntax13"> </span><span class="syntax13">5)</span><span class="syntax13"> </span><span class="syntax13">&lt;/b&gt;counts:</span><span class="syntax13"> </span><span class="syntax13">'</span> <span class="syntax18">;</span>
<span class="gutter">  14:</span>    <span class="syntax8">echo</span> <span class="syntax9">substr_count</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">little</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">5</span><span class="syntax18">)</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;/p&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  16:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
The *@substr_count()@* function will find the number of times the substring "little" appears in the string.
The third argument to the *@substr_count()@* function specifies the offset, the position where the function will start counting substrings.
On line 14, instead of starting the count at the beginning of the string, the count will start at position 5, which is the character "i" in the string "little". The next occurrence of little will start the count.

h3. Special Characters and Strings

h3. Individual Characters and the Curly Bracket Syntax

* Until PHP 5, if you wanted to extract a character from a string, you could treat the string as an array and use square brackets to extract a particular character.
* Consider the following example:
<br /><pre>
<?php
  $car = "Honda";
  echo $car[0]; // Prints the "H" in "Honda"
  echo $car[1]; // Prints the "o" in "Honda"
  echo $car[2]; // Prints the "n" in "Honda"
?>
</pre>
* The problem with using square brackets is that it's impossible to tell whether *@$car[0]@* references an array or a string.
* As of PHP 5, using the square brackets to extract a character has been replaced with a curly bracket syntax as follows:
<br /><pre>
<?php
  $car = "Honda";
  echo $car{0}; // Prints the "H" in "Honda"
  echo $car{1}; // Prints the "o" in "Honda"
  echo $car{2}; // Prints the "n" in "Honda"
?>
</pre>

h3. Line Breaks with the @nl2br()@ and @wordwrap()@ Functions

* To insert line breaks in the browser, you can use the HTML &lt;pre&gt; tag with the "@\n@" escape sequence, use the HTML &lt;br&gt; tag in your PHP strings, or use the built-in *@nl2br()@* and *@wordwrap()@* functions.
* *@nl2br()@* is a simple PHP function that inserts a &lt;br&gt; tag in front of every newline in the text. We can use this function to quickly format plain text into HTML code.
* The following examples demonstrate how to use the *@nl2br()@* function to insert HTML line breaks.
* Format:
<br /><pre>
new_string = nl2br( old_string );
</pre>
* Example:
<br /><pre>
print nl2br("Break this string here\n and here
            and here");
</pre>
* Filename: *linebreaks.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Breaking Lines<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">silver</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;h2</span><span class="syntax17">&gt;</span>Breaking Lines<span class="syntax17">&lt;/h2</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Using Escape Sequences<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;pre</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutterH">  10:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">Backslash</span><span class="syntax2"> </span><span class="syntax2">sequences</span><span class="syntax2"> </span><span class="syntax2">within</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">&lt;pre&gt;</span><span class="syntax2"> </span><span class="syntax2">tag</span>
<span class="gutter">  11:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Goofy</span><span class="syntax14"> </span><span class="syntax14">Rufus\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">123</span><span class="syntax14"> </span><span class="syntax14">Fantasia</span><span class="syntax14"> </span><span class="syntax14">Street\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">San</span><span class="syntax14"> </span><span class="syntax14">Francisco</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">CA</span><span class="syntax14"> </span><span class="syntax14">94111\n</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  14:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;/pre</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Using the HTML <span class="syntax14">&amp;</span><span class="syntax14">lt</span><span class="syntax14">;</span>br<span class="syntax14">&amp;</span><span class="syntax14">gt</span><span class="syntax14">;</span> Tag<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  18:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">Goofy</span><span class="syntax14"> </span><span class="syntax14">Rufus</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span> <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">The</span><span class="syntax2"> </span><span class="syntax2">&lt;br&gt;</span><span class="syntax2"> </span><span class="syntax2">tag</span><span class="syntax2"> </span><span class="syntax2">within</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">strings</span>
<span class="gutter">  19:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">123</span><span class="syntax14"> </span><span class="syntax14">Fantasia</span><span class="syntax14"> </span><span class="syntax14">Street</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>    <span class="syntax8">print</span> <span class="syntax14">&quot;</span><span class="syntax14">San</span><span class="syntax14"> </span><span class="syntax14">Francisco</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">CA</span><span class="syntax14"> </span><span class="syntax14">94111</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  22:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Using the PHP <span class="syntax17">&lt;em</span><span class="syntax17">&gt;</span>nl2br()<span class="syntax17">&lt;/em</span><span class="syntax17">&gt;</span> Function<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">  23:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  24:</span>    <span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">Goofy</span><span class="syntax14"> </span><span class="syntax14">Rufus</span>
<span class="gutterH">  25:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">123</span><span class="syntax14"> </span><span class="syntax14">Fantasia</span><span class="syntax14"> </span><span class="syntax14">Street</span>
<span class="gutter">  26:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">San</span><span class="syntax14"> </span><span class="syntax14">Francisco</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">CA</span><span class="syntax14"> </span><span class="syntax14">94111</span>
<span class="gutter">  27:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  28:</span>    <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">the</span><span class="syntax2"> </span><span class="syntax2">nl2br()</span><span class="syntax2"> </span><span class="syntax2">function</span><span class="syntax2"> </span><span class="syntax2">replaces</span><span class="syntax2"> </span><span class="syntax2">newlines</span><span class="syntax2"> </span><span class="syntax2">with</span><span class="syntax2"> </span><span class="syntax2">&lt;br</span><span class="syntax2"> </span><span class="syntax2">/&gt;</span>
<span class="gutter">  29:</span>    <span class="syntax8">print</span> <span class="syntax9">nl2br</span><span class="syntax18">(</span><span class="syntax14">&quot;</span><span class="syntax10">$</span><span class="syntax10">address</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  30:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  31:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  32:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The HTML &lt;pre&gt; tags are often useful for debugging and quick page layout. When viewing the source in the browser, the output is exactly the same as the page viewed in the browser. Lines 8 through 15 demonstrate use of the &lt;pre&gt; tags.
* The HTML &lt;br&gt; tags are used on lines 18, 19 and 20 to create line breaks.
* The *@nl2br()@* function will add a &lt;br /&gt; tag in front of every "@\n@" character or break in the line, so that HTML can display the line breaks in the browser.
* The *@wordwrap()@* function wraps a string to a given number of characters using a string break character such as &lt;br&gt; or "@\n@".
* Without specifying any arguments *@wordwrap()@* inserts a "\n" at column 75 (i.e. the 75th character in the string starting from the beginning of the string).
* If a width is given, then the line will be broken at that column and even if the word is too large, it will be preserved on that line before the break.
* By default, the break character is "@\n@" unless specified as something else. You can use the HTML &lt;br&gt; tag if viewing the output in the browser.
* The examples below demonstrate how to use the *@wordwrap()@* function for determining the width of a string.
* Format:
<br /><pre>
string wordwrap (string str [, int width [, string break [,
                bool cut]]] )
</pre>
* Example:
<br /><pre>
// Words are 5 or more characters; line break is "\n"
$wrapped_string = wordwrap("Today is Christmas", 5);
// Each character is on a line by itself; line break is "<br />"
$wrapped_string = wordwrap("Today is Christmas", 1,"<br />", 1);
</pre>
* Filename: *wordwrap.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Word Wrap<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Word Wrap<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">The</span><span class="syntax14"> </span><span class="syntax14">snow</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">falling</span><span class="syntax14"> </span><span class="syntax14">in</span><span class="syntax14"> </span><span class="syntax14">Stockholm</span><span class="syntax14"> </span><span class="syntax14">on</span><span class="syntax14"> </span><span class="syntax14">Christmas</span><span class="syntax14"> </span><span class="syntax14">day</span>
<span class="gutterH">  10:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">and</span><span class="syntax14"> </span><span class="syntax14">I</span><span class="syntax14"> </span><span class="syntax14">am</span><span class="syntax14"> </span><span class="syntax14">absolutely</span><span class="syntax14"> </span><span class="syntax14">mesmerized</span><span class="syntax14"> </span><span class="syntax14">by</span><span class="syntax14"> </span><span class="syntax14">its</span><span class="syntax14"> </span><span class="syntax14">beauty</span><span class="syntax14">.</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">new_text</span> <span class="syntax18">=</span> <span class="syntax9">wordwrap</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span> <span class="syntax5">9</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  13:</span>  Original text: <span class="syntax17">&lt;?</span><span class="syntax18">=</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax17">?&gt;</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>  Wrapped text:<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">color</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">red</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span>  <span class="syntax17">&lt;?</span><span class="syntax18">=</span><span class="syntax10">$</span><span class="syntax10">new_text</span><span class="syntax17">?&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  21:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* First, the original string will be displayed as a single string in the browser and will not be broken until it reaches the rightmost border of the window.
* The *@wordwrap()@ *function will insert a break at every ninth character. The words "absolutely" and "mesmerized" will not be broken even though they are longer than nine characters.
* If the boolean cut argument is set to 1, the string is always wrapped at the specified width. So if the word is larger than the given width, it is broken apart, which is not always what you want.
* Filename: *wordwrap2.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The wordwrap() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Word Wrap<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax13">'</span><span class="syntax13">The</span><span class="syntax13"> </span><span class="syntax13">snow</span><span class="syntax13"> </span><span class="syntax13">is</span><span class="syntax13"> </span><span class="syntax13">falling</span><span class="syntax13"> </span><span class="syntax13">in</span><span class="syntax13"> </span><span class="syntax13">Stockholm</span><span class="syntax13"> </span><span class="syntax13">on</span><span class="syntax13"> </span><span class="syntax13">Christmas</span><span class="syntax13"> </span><span class="syntax13">day</span><span class="syntax13"> </span><span class="syntax13">and</span>
<span class="gutterH">  10:</span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13"> </span><span class="syntax13">I</span><span class="syntax13"> </span><span class="syntax13">am</span><span class="syntax13"> </span><span class="syntax13">absolutely</span><span class="syntax13"> </span><span class="syntax13">mesmerized</span><span class="syntax13"> </span><span class="syntax13">by</span><span class="syntax13"> </span><span class="syntax13">its</span><span class="syntax13"> </span><span class="syntax13">beauty.</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax10">$</span><span class="syntax10">new_text</span> <span class="syntax18">=</span> <span class="syntax9">wordwrap</span><span class="syntax18">(</span> <span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">,</span> <span class="syntax5">9</span><span class="syntax18">,</span><span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">\n</span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax5">1</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  13:</span>  Original text: <span class="syntax17">&lt;?</span><span class="syntax18">=</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax17">?&gt;</span><span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  14:</span>  Wrapped text:<span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">color</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">red</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span>  <span class="syntax17">&lt;?</span><span class="syntax18">=</span><span class="syntax10">$</span><span class="syntax10">new_text</span><span class="syntax17">?&gt;</span>
<span class="gutter">  17:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutter">  18:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  19:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutterH">  20:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The *@wordwrap()@* function breaks the string at every ninth character, and because the third argument is set to 1, the word will be broken at the ninth character even if it means putting part of the word on the next line.

h3. ASCII Character Values and the @chr()@ Function

* The *@chr()@* function takes the numeric ASCII value of a character and returns the character.
* Format:
<br /><pre>
string chr ( int ascii )
</pre>
* Example:
<br /><pre>
echo chr(66), "<br />"; // Returns: "B"
</pre>
ASCII Character Values and the *@ord()@* Function
The *@ord()@* function returns the numeric ASCII value for a character.
Format:
<br /><pre>
int ord (string string)
</pre>
* Example:
<br /><pre>
echo ord("B"), "<br />"; // Returns: 66
</pre>

h3. Transposing Characters and the @strstr()@ Function

* The *@strstr()@* function translates characters on a one-to-one correspondence from one string to another and returns a string with the translations (like the UNIX tr command).
* If the from and to strings are different lengths, the extra characters in the longer string are ignored.
* Format:
<br /><pre>
string strtr ( string str, string from, string to )
string strtr ( string str, array replace_pairs )
</pre>
* Example:
<br /><pre>
echo strtr("aaacaa", "a", "b") // Returns: bbbcbb
</pre>

h3. Slashes and the @addslashes()@ and @addcslashes()@ Functions

* Certain characters need to be escaped with a backslash character when inserted into a database.
* The *@addcslashes()@* and *@addslashes()@* functions are used to accomplish this task unless you already have the PHP directive *@magic_quotes_gpc@* turned on in the *php.ini* file.
* The characters escaped are the single and double quotes, the backslash itself, and the NULL byte.
* The PHP directive *@magic_quotes_gpc@* is on by default, and it runs *@addslashes()@* on all *GET*, *POST*, and *COOKIE* data.
* Do not use *@addslashes()@* on strings that have already been escaped with magic_quotes_gpc, as the characters will then be double escaped!
* You can use the *@get_magic_quotes_gpc()@* function to see if *@magic_quotes_gpc@* is on.
* The following examples demonstrate how to check for the *@get_magic_quotes_gpc()@* directive and how *@addslashes()@* is used.
* Table: Adding Slashes to Special Characters

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Function*|{background:#ccc}.*What_It_Returns*|
|@addcslashes()@  |Quotes a string with slashes in a C style|
|@addslashes()@   |Quotes a string with slashes             |

* Format:
<br /><pre>
string addslashes ( string str )
</pre>
* Example:
<br /><pre>
// Returns: I can\'t help you.
echo addslashes("I can't help you.");
</pre>
* Filename: *addslashes.php* (Uses HTML form addslashes.html)
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>Adding Slashes to Characters<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lightgreen</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>The addslashes() Function<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">   9:</span>    <span class="syntax10">$</span><span class="syntax10">last_name</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_GET</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">last_name</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutterH">  10:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax9">get_magic_quotes_gpc</span><span class="syntax18">(</span><span class="syntax18">)</span> <span class="syntax18">=</span><span class="syntax18">=</span> <span class="syntax5">1</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutter">  11:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">get_magic_quotes_gpc</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">on</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">$last_name</span><span class="syntax13"> </span><span class="syntax13">=</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">last_name</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>      <span class="syntax10">$</span><span class="syntax10">query</span> <span class="syntax18">=</span><span class="syntax18"> (</span><span class="syntax14">&quot;</span><span class="syntax14">SELECT</span><span class="syntax14"> </span><span class="syntax14">first_name</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">last_name</span><span class="syntax14"> </span><span class="syntax14">from</span>
<span class="gutter">  14:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">Persons</span><span class="syntax14"> </span><span class="syntax14">WHERE</span><span class="syntax14"> </span><span class="syntax14">last_name</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax10">$</span><span class="syntax10">last_name</span><span class="syntax14">'</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  15:</span>    <span class="syntax18">}</span>
<span class="gutter">  16:</span>    <span class="syntax8">else</span><span class="syntax18">{</span>
<span class="gutter">  17:</span>      <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">get_magic_quotes_gpc</span><span class="syntax14">(</span><span class="syntax14">)</span><span class="syntax14"> </span><span class="syntax14">is</span><span class="syntax14"> </span><span class="syntax14">off</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  18:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">$last_name</span><span class="syntax13"> </span><span class="syntax13">=</span><span class="syntax13"> </span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">last_name</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax10">$</span><span class="syntax10">last_name</span> <span class="syntax18">=</span> <span class="syntax9">addslashes</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">last_name</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutterH">  20:</span>      <span class="syntax10">$</span><span class="syntax10">query</span> <span class="syntax18">=</span><span class="syntax18"> (</span><span class="syntax14">&quot;</span><span class="syntax14">SELECT</span><span class="syntax14"> </span><span class="syntax14">first_name</span><span class="syntax14">,</span><span class="syntax14"> </span><span class="syntax14">last_name</span><span class="syntax14"> </span><span class="syntax14">from</span>
<span class="gutter">  21:</span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14"> </span><span class="syntax14">Persons</span><span class="syntax14"> </span><span class="syntax14">WHERE</span><span class="syntax14"> </span><span class="syntax14">last_name</span><span class="syntax14">=</span><span class="syntax14">'</span><span class="syntax10">$</span><span class="syntax10">last_name</span><span class="syntax14">'</span><span class="syntax14">&quot;</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  22:</span>    <span class="syntax18">}</span>
<span class="gutter">  23:</span>    <span class="syntax8">echo</span> <span class="syntax10">$</span><span class="syntax10">query</span><span class="syntax18">,</span><span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  24:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  25:</span>  <span class="syntax17">&lt;/font</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  27:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* The HTML form uses the *@GET@* method to retrieve the data from the form. It is assigned to the PHP *@$_GET@* array.
* The *@get_magic_quotes_gpc()@* function returns 1 if the magic_quotes_gpc directive is turned on, and if it is, the backslashes will automatically be added to any quote characters in the name.
* An SQL query string is created. Any quote marks embedded in column values should be backslashed before including them in the query.
* If the *@magic_quotes_gpc@* directive has not been set, the *@addslashes()@* function is executed to assure that backslashes are added to the name if needed. before the single quote for the database query.
* If *@get_magic_quotes_gpc()@* returns true, then you shouldn't use the *@addslashes()@* function. If you do, the string will be escaped twice as shown here:
<br /><pre>
SELECT first_name, last_name
  FROM Persons
  WHERE lastname='O\\\'Conner'
</pre>

h3. Slashes and the @stripslashes()@ Function

* The *@stripslashes()@* function removes backslashes that precede quotation marks and if there are double slashes "\\", they become a single slash "\".
* This function is useful if you are displaying data directly from a form rather than sending it to a database where backslashes are often required.
* The examples below demonstrate how *@stripslashes()@* works.
* Format:
<br /><pre>
string stripslashes ( string str )
</pre>
* Example:
<br /><pre>
$string = "She said, \"Don\'t do that.\"";
// Output: She said, "Don't do that."
echo stripslashes($string);
</pre>
* Filename: *stripslashes.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The stripslashes() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;form</span><span class="syntax17"> </span><span class="syntax17">action</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">stripslashes</span><span class="syntax14">.</span><span class="syntax14">php</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">method</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">POST</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;textarea</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">story</span><span class="syntax14">&quot;</span><span class="syntax17"> </span><span class="syntax17">rows</span><span class="syntax18">=</span><span class="syntax17">3</span><span class="syntax17"> </span><span class="syntax17">cols</span><span class="syntax18">=</span><span class="syntax17">30</span><span class="syntax17">&gt;</span>(type some quoted text)
<span class="gutter">   8:</span>  <span class="syntax17">&lt;/textarea</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>  <span class="syntax17">&lt;br</span><span class="syntax17"> </span><span class="syntax17">/</span><span class="syntax17">&gt;</span>
<span class="gutterH">  10:</span>  <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">submit</span><span class="syntax17"> </span><span class="syntax17">name</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">submit</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">  11:</span>  <span class="syntax17">&lt;input</span><span class="syntax17"> </span><span class="syntax17">type</span><span class="syntax18">=</span><span class="syntax17">reset</span><span class="syntax17">&gt;</span>
<span class="gutter">  12:</span>  <span class="syntax17">&lt;/form</span><span class="syntax17">&gt;</span>
<span class="gutter">  13:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutter">  14:</span>    <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax8">isset</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax13">'</span><span class="syntax13">submit</span><span class="syntax13">'</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">)</span> <span class="syntax18">{</span>
<span class="gutterH">  15:</span>      <span class="syntax8">if</span><span class="syntax18"> (</span><span class="syntax18">!</span> <span class="syntax9">get_magic_quotes_gpc</span><span class="syntax18">(</span><span class="syntax18">)</span><span class="syntax18">)</span>
<span class="gutter">  16:</span>        <span class="syntax10">$</span><span class="syntax10">input</span> <span class="syntax18">=</span> <span class="syntax9">addslashes</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">story</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">)</span><span class="syntax18">;</span>
<span class="gutter">  17:</span>      <span class="syntax8">else</span>
<span class="gutter">  18:</span>        <span class="syntax10">$</span><span class="syntax10">input</span> <span class="syntax18">=</span> <span class="syntax10">$</span><span class="syntax10">_POST</span><span class="syntax18">[</span><span class="syntax14">&quot;</span><span class="syntax14">story</span><span class="syntax14">&quot;</span><span class="syntax18">]</span><span class="syntax18">;</span>
<span class="gutter">  19:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">print</span><span class="syntax2"> </span><span class="syntax2">with</span><span class="syntax2"> </span><span class="syntax2">escaped</span><span class="syntax2"> </span><span class="syntax2">characters</span>
<span class="gutterH">  20:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;&lt;pre&gt;</span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax10">$</span><span class="syntax10">input</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;/pre&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  21:</span>      <span class="syntax2">//</span><span class="syntax2"> </span><span class="syntax2">and</span><span class="syntax2"> </span><span class="syntax2">then</span><span class="syntax2"> </span><span class="syntax2">with</span><span class="syntax2"> </span><span class="syntax2">them</span><span class="syntax2"> </span><span class="syntax2">removed</span>
<span class="gutter">  22:</span>      <span class="syntax8">echo</span> <span class="syntax13">'</span><span class="syntax13">&lt;br</span><span class="syntax13"> </span><span class="syntax13">/&gt;&lt;pre&gt;</span><span class="syntax13">'</span><span class="syntax18">.</span> <span class="syntax9">stripslashes</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">input</span><span class="syntax18">)</span> <span class="syntax18">.</span><span class="syntax13">'</span><span class="syntax13">&lt;/pre&gt;</span><span class="syntax13">'</span><span class="syntax18">;</span>
<span class="gutter">  23:</span>    <span class="syntax18">}</span>
<span class="gutter">  24:</span>  <span class="syntax17">?&gt;</span>
<span class="gutterH">  25:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  26:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span></span>
</PRE>
* If the form has been submitted, the value *@$_POST['submit']@* will be set.
* The *@$_POST@* array contains the text that the user typed into the text area box, named story. If *@magic_quotes_gpc@* is set, any quotes will already be escaped. Otherwise we use *@addslashes()@* to escape the quotes.
* The *@stripslashes()@* function removes the slashes that were added due to either the *@magic_quotes_gpc@* directive or by *@addslashes()@*.

h3. Working with HTML Special Characters

* Like all languages, HTML has certain characters that have special significance and those characters are represented by HTML entities, special symbols starting with an ampersand and terminated with a semicolon.
* For example, the "@<@" and "@>@" symbols are written as @&lt;@ and @&gt;@.
* If the user enters text that contains these HTML characters when filling out a form, you can use the *@htmlspecialchars()@* function to convert the most common special characters to their respective HTML entities.
* If you require all HTML character entities to be translated, use the *@htmlentities()@* function shown in the next section.
* Table: HTML Special Character Functions

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Function*|{background:#ccc}.*What_It_Does*|
|*htmlspecialchars_decode()*  |Converts special HTML entities back to characters|
|*htmlspecialchars()*         |Converts special characters to HTML entities     |


h3. The @htmlspecialchars()@ Function

* The *@htmlspecialchars()@* function converts special characters to HTML entities.
* Table: Conversion of Special Characters

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Character_Before*|{background:#ccc}.*The_HTML_Entity*|
|@& (ampersand)@     |@&amp;@                              |
|@" (double quote)@  |@&quot;@ when ENT_NOQUOTES is not set|
|@' (single quote)@  |@&#039;@ only when ENT_QUOTES is set |
|@< (less than)@     |@&lt;@                               |
|@> (greater than)@  |@&gt;@                               |

* Format:
<br /><pre>
string htmlspecialchars( string string [, int quote_style [,
                        string charset]])
</pre>
* Example:
<br /><pre>
$text = "Isn't the >> symbol used in here-docs?";
echo htmlspecialchars($text, ENT_QUOTES), "<br />";
</pre>
* You can define how to handle single or double quotes using the quote_style optional third argument, and define the character set for your locale by using the optional fourth argument, called charset. Quote constants are shown below.
* Table: Quote Constants

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Constant_Name*|{background:#ccc}.*Description*|
|ENT_COMPAT     |Converts double quotes and leaves single quotes<br />alone, the default mode|
|ENT_QUOTES     |Converts both double and single quotes           |
|ENT_NOQUOTES   |Leaves both double and single quotes unconverted |

* This example demonstrates how to use the *@htmlspecialchars()@* function.
* Filename: *specialchars.php*
<br /><PRE>
<span class="syntax0"><span class="gutter">   1:</span><span class="syntax17">&lt;html</span><span class="syntax17">&gt;</span>
<span class="gutter">   2:</span> <span class="syntax17">&lt;head</span><span class="syntax17">&gt;</span>
<span class="gutter">   3:</span>  <span class="syntax17">&lt;title</span><span class="syntax17">&gt;</span>The htmlspecialchars() Function<span class="syntax17">&lt;/title</span><span class="syntax17">&gt;</span>
<span class="gutter">   4:</span> <span class="syntax17">&lt;/head</span><span class="syntax17">&gt;</span>
<span class="gutterH">   5:</span> <span class="syntax17">&lt;body</span><span class="syntax17"> </span><span class="syntax17">bgcolor</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">lavender</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   6:</span>  <span class="syntax17">&lt;font</span><span class="syntax17"> </span><span class="syntax17">size</span><span class="syntax18">=</span><span class="syntax14">&quot;</span><span class="syntax14">+</span><span class="syntax14">1</span><span class="syntax14">&quot;</span><span class="syntax17">&gt;</span>
<span class="gutter">   7:</span>  <span class="syntax17">&lt;h3</span><span class="syntax17">&gt;</span>Creating HTML Entities<span class="syntax17">&lt;/h3</span><span class="syntax17">&gt;</span>
<span class="gutter">   8:</span>  <span class="syntax17">&lt;b</span><span class="syntax17">&gt;</span>
<span class="gutter">   9:</span>  <span class="syntax17">&lt;?php</span>
<span class="gutterH">  10:</span>    <span class="syntax10">$</span><span class="syntax10">text</span> <span class="syntax18">=</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">&lt;</span><span class="syntax14">Johnson</span><span class="syntax14">&amp;</span><span class="syntax14">Son</span><span class="syntax14">'</span><span class="syntax14">s</span><span class="syntax14"> </span><span class="syntax14">Tobacco</span><span class="syntax14"> </span><span class="syntax14">Store</span><span class="syntax14">&gt;</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  11:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Original</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  12:</span>    <span class="syntax8">echo</span> <span class="syntax14">&quot;</span><span class="syntax14">Modified</span><span class="syntax14">:</span><span class="syntax14"> </span><span class="syntax14">&quot;</span><span class="syntax18">,</span> <span class="syntax9">htmlspecialchars</span><span class="syntax18">(</span><span class="syntax10">$</span><span class="syntax10">text</span><span class="syntax18">)</span><span class="syntax18">,</span> <span class="syntax14">&quot;</span><span class="syntax14">&lt;</span><span class="syntax14">br</span><span class="syntax14"> </span><span class="syntax14">/</span><span class="syntax14">&gt;</span><span class="syntax14">&quot;</span><span class="syntax18">;</span>
<span class="gutter">  13:</span>  <span class="syntax17">?&gt;</span>
<span class="gutter">  14:</span>  <span class="syntax17">&lt;/b</span><span class="syntax17">&gt;</span>
<span class="gutterH">  15:</span> <span class="syntax17">&lt;/body</span><span class="syntax17">&gt;</span>
<span class="gutter">  16:</span><span class="syntax17">&lt;/html</span><span class="syntax17">&gt;</span>
<span class="gutter">  17:</span></span>
</PRE>
* The variable, *@$text@*, is assigned a string containing some characters considered special when rendered by the HTML interpreter; they are the "@<@" and "@&@" characters.
* When this string is viewed in a browser, the HTML interpreter sees the "@<@" as an opening tag symbol followed by an irrelevant HTML element. Nothing is displayed other than the next opening "@<@" and the closing "@>@".
* The *@htmlspecialchars()@* function creates HTML entities out of the "@<@" and "@&@" so that the browser can display the text.
* Note that the source page for the Web page shows that these entities are now part of the page.

h3. The @htmlentities()@ Function

* The *@htmlentities()@* function converts all applicable characters to their HTML entity equivalents.
* Format:
<br /><pre>
string htmlentities (string string [, int quote_style [,
                        string charset]])
</pre>
* Example:
<br /><pre>
$string = "5 won't get you much at the caf Franaise!";
echo htmlentities($string, ENT_COMPAT);
// Returns:
// 5&#162 won't get you much at the caf&egrave; Fran&ccedil;aise!
</pre>
* Table: Supported Character Sets

table{text-align:left; margin-left: 4em;}.
|{background:#ccc}.*Charset*|{background:#ccc}.*Aliases*|{background:#ccc}.*Description*|
|@ISO-8859-1@   |@ISO8859-1@       |Western European, Latin-1.                                            |
|@ISO-8859-15@  |@ISO8859-15@      |Western European, Latin-9. Adds the Euro sign,<br />French and Finnish letters missing in Latin-1 (ISO-8859-1).|
|@UTF-8@        |&nbsp;            |ASCII-compatible multibyte 8-bit Unicode.                             |
|@cp866@        |@ibm866, 866@     |DOS-specific Cyrillic charset. This charset is supported in 4.3.2.    |
|@cp1251@       |@Windows-1251@,<br />@win-1251, 1251@|Windows-specific Cyrillic charset. This charset is supported in 4.3.2.|
|@cp1252@       |@Windows-1252, 1252@   |Windows-specific charset for Western Europe.                          |
|@KOI8-R@       |@koi8-ru, koi8r@  |Russian. This charset is supported in 4.3.2.                          |
|@BIG5@         |@950@             |Traditional Chinese, mainly used in Taiwan.                           |
|@GB2312@       |@936@             |Simplified Chinese, national standard character set.                  |
|@BIG5-HKSCS@   |&nbsp;            |Big5 with Hong Kong extensions, Traditional Chinese.                  |
|@Shift_JIS@    |@SJIS, 932@       |Japanese.                                                             |
|@EUC-JP@       |@EUCJP@           |Japanese.                                                             |

<br />

---

[[Unit Four => 152-166 Unit Four Index]]
